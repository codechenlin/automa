/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/overview/route";
exports.ids = ["app/api/overview/route"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "?0fba":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?9fcb":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foverview%2Froute&page=%2Fapi%2Foverview%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foverview%2Froute.ts&appDir=%2FUsers%2Fgustavo%2Fapps%2Fautomaton-forked%2Fpackages%2Fdashboard%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fgustavo%2Fapps%2Fautomaton-forked%2Fpackages%2Fdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foverview%2Froute&page=%2Fapi%2Foverview%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foverview%2Froute.ts&appDir=%2FUsers%2Fgustavo%2Fapps%2Fautomaton-forked%2Fpackages%2Fdashboard%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fgustavo%2Fapps%2Fautomaton-forked%2Fpackages%2Fdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_gustavo_apps_automaton_forked_packages_dashboard_app_api_overview_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/overview/route.ts */ \"(rsc)/./app/api/overview/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/overview/route\",\n        pathname: \"/api/overview\",\n        filename: \"route\",\n        bundlePath: \"app/api/overview/route\"\n    },\n    resolvedPagePath: \"/Users/gustavo/apps/automaton-forked/packages/dashboard/app/api/overview/route.ts\",\n    nextConfigOutput,\n    userland: _Users_gustavo_apps_automaton_forked_packages_dashboard_app_api_overview_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/overview/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMi4yNF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtYXBwLWxvYWRlci5qcz9uYW1lPWFwcCUyRmFwaSUyRm92ZXJ2aWV3JTJGcm91dGUmcGFnZT0lMkZhcGklMkZvdmVydmlldyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm92ZXJ2aWV3JTJGcm91dGUudHMmYXBwRGlyPSUyRlVzZXJzJTJGZ3VzdGF2byUyRmFwcHMlMkZhdXRvbWF0b24tZm9ya2VkJTJGcGFja2FnZXMlMkZkYXNoYm9hcmQlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGZ3VzdGF2byUyRmFwcHMlMkZhdXRvbWF0b24tZm9ya2VkJTJGcGFja2FnZXMlMkZkYXNoYm9hcmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2lDO0FBQzlHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvbndheS9hdXRvbWF0b24tZGFzaGJvYXJkLz8wZDE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9ndXN0YXZvL2FwcHMvYXV0b21hdG9uLWZvcmtlZC9wYWNrYWdlcy9kYXNoYm9hcmQvYXBwL2FwaS9vdmVydmlldy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvb3ZlcnZpZXcvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vdmVydmlld1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvb3ZlcnZpZXcvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvZ3VzdGF2by9hcHBzL2F1dG9tYXRvbi1mb3JrZWQvcGFja2FnZXMvZGFzaGJvYXJkL2FwcC9hcGkvb3ZlcnZpZXcvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL292ZXJ2aWV3L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foverview%2Froute&page=%2Fapi%2Foverview%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foverview%2Froute.ts&appDir=%2FUsers%2Fgustavo%2Fapps%2Fautomaton-forked%2Fpackages%2Fdashboard%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fgustavo%2Fapps%2Fautomaton-forked%2Fpackages%2Fdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/overview/route.ts":
/*!***********************************!*\
  !*** ./app/api/overview/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_server_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/server/core */ \"(rsc)/./lib/server/core.ts\");\n\n\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nasync function GET() {\n    try {\n        const overview = await (0,_lib_server_core__WEBPACK_IMPORTED_MODULE_1__.buildOverview)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(overview, {\n            headers: {\n                \"Cache-Control\": \"no-store\"\n            }\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to load overview\",\n            details: err instanceof Error ? err.message : \"unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL292ZXJ2aWV3L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ087QUFFM0MsTUFBTUUsVUFBVSxTQUFTO0FBQ3pCLE1BQU1DLFVBQVUsZ0JBQWdCO0FBRWhDLGVBQWVDO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxXQUFXLE1BQU1KLCtEQUFhQTtRQUNwQyxPQUFPRCxxREFBWUEsQ0FBQ00sSUFBSSxDQUFDRCxVQUFVO1lBQ2pDRSxTQUFTO2dCQUNQLGlCQUFpQjtZQUNuQjtRQUNGO0lBQ0YsRUFBRSxPQUFPQyxLQUFLO1FBQ1osT0FBT1IscURBQVlBLENBQUNNLElBQUksQ0FDdEI7WUFDRUcsT0FBTztZQUNQQyxTQUFTRixlQUFlRyxRQUFRSCxJQUFJSSxPQUFPLEdBQUc7UUFDaEQsR0FDQTtZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb253YXkvYXV0b21hdG9uLWRhc2hib2FyZC8uL2FwcC9hcGkvb3ZlcnZpZXcvcm91dGUudHM/YTE4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGJ1aWxkT3ZlcnZpZXcgfSBmcm9tIFwiQC9saWIvc2VydmVyL2NvcmVcIjtcblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSBcIm5vZGVqc1wiO1xuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSBcImZvcmNlLWR5bmFtaWNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBvdmVydmlldyA9IGF3YWl0IGJ1aWxkT3ZlcnZpZXcoKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ob3ZlcnZpZXcsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDYWNoZS1Db250cm9sXCI6IFwibm8tc3RvcmVcIixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIGxvYWQgb3ZlcnZpZXdcIixcbiAgICAgICAgZGV0YWlsczogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwidW5rbm93biBlcnJvclwiLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfSxcbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYnVpbGRPdmVydmlldyIsInJ1bnRpbWUiLCJkeW5hbWljIiwiR0VUIiwib3ZlcnZpZXciLCJqc29uIiwiaGVhZGVycyIsImVyciIsImVycm9yIiwiZGV0YWlscyIsIkVycm9yIiwibWVzc2FnZSIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/overview/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/server/core.ts":
/*!****************************!*\
  !*** ./lib/server/core.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   askLogs: () => (/* binding */ askLogs),\n/* harmony export */   buildOverview: () => (/* binding */ buildOverview),\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   collectTurnsAfterCursor: () => (/* binding */ collectTurnsAfterCursor),\n/* harmony export */   decodeCursor: () => (/* binding */ decodeCursor),\n/* harmony export */   encodeCursor: () => (/* binding */ encodeCursor),\n/* harmony export */   extractFilter: () => (/* binding */ extractFilter),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   getRuntimeConfig: () => (/* binding */ getRuntimeConfig),\n/* harmony export */   inferTurnState: () => (/* binding */ inferTurnState),\n/* harmony export */   isAgentState: () => (/* binding */ isAgentState),\n/* harmony export */   isTurnAfterCursor: () => (/* binding */ isTurnAfterCursor),\n/* harmony export */   normalizeIsoDateFilter: () => (/* binding */ normalizeIsoDateFilter),\n/* harmony export */   queryTurnsPage: () => (/* binding */ queryTurnsPage),\n/* harmony export */   readJsonBody: () => (/* binding */ readJsonBody),\n/* harmony export */   serializeTurn: () => (/* binding */ serializeTurn),\n/* harmony export */   summarizeTurn: () => (/* binding */ summarizeTurn),\n/* harmony export */   toNumber: () => (/* binding */ toNumber),\n/* harmony export */   trimForUi: () => (/* binding */ trimForUi)\n/* harmony export */ });\n/* harmony import */ var _conway_automaton_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @conway/automaton/config.js */ \"(rsc)/../../dist/config.js\");\n/* harmony import */ var _conway_automaton_state_database_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @conway/automaton/state/database.js */ \"(rsc)/../../dist/state/database.js\");\n/* harmony import */ var _shared_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/types */ \"(rsc)/./lib/shared/types.ts\");\n\n\n\nlet configCache;\nlet dbCache;\nfunction getConfig() {\n    if (configCache === undefined) {\n        configCache = (0,_conway_automaton_config_js__WEBPACK_IMPORTED_MODULE_0__.loadConfig)();\n    }\n    if (!configCache) {\n        throw new Error(\"No automaton configuration found.\");\n    }\n    return configCache;\n}\nfunction getDb() {\n    if (!dbCache) {\n        const config = getConfig();\n        dbCache = (0,_conway_automaton_state_database_js__WEBPACK_IMPORTED_MODULE_1__.createDatabase)((0,_conway_automaton_config_js__WEBPACK_IMPORTED_MODULE_0__.resolvePath)(config.dbPath));\n    }\n    return dbCache;\n}\nfunction getRuntimeConfig() {\n    return getConfig();\n}\nfunction getDatabase() {\n    return getDb();\n}\nfunction extractFilter(params, body) {\n    const rawState = (typeof body?.state === \"string\" ? body.state : undefined) || params.get(\"state\") || undefined;\n    const fromRaw = (typeof body?.from === \"string\" ? body.from : undefined) || params.get(\"from\") || undefined;\n    const toRaw = (typeof body?.to === \"string\" ? body.to : undefined) || params.get(\"to\") || undefined;\n    return {\n        from: normalizeIsoDateFilter(fromRaw),\n        to: normalizeIsoDateFilter(toRaw),\n        q: (typeof body?.q === \"string\" ? body.q : undefined) || params.get(\"q\") || undefined,\n        state: isAgentState(rawState) ? rawState : undefined,\n        limit: clamp(toNumber(body?.limit ?? params.get(\"limit\")) ?? 40, 1, 200)\n    };\n}\nfunction normalizeIsoDateFilter(value) {\n    if (!value) return undefined;\n    const ms = Date.parse(value);\n    if (Number.isNaN(ms)) return undefined;\n    return new Date(ms).toISOString();\n}\nasync function readJsonBody(request) {\n    const raw = (await request.text()).trim();\n    if (!raw) return {};\n    try {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed === \"object\" && !Array.isArray(parsed)) {\n            return parsed;\n        }\n    } catch  {\n        return {};\n    }\n    return {};\n}\nfunction decodeCursor(raw) {\n    if (!raw) return undefined;\n    try {\n        const decoded = Buffer.from(raw, \"base64url\").toString(\"utf-8\");\n        const parsed = JSON.parse(decoded);\n        if (typeof parsed?.timestamp === \"string\" && typeof parsed?.id === \"string\" && parsed.timestamp && parsed.id && !Number.isNaN(Date.parse(parsed.timestamp))) {\n            return {\n                timestamp: new Date(parsed.timestamp).toISOString(),\n                id: parsed.id\n            };\n        }\n    } catch  {\n        return undefined;\n    }\n    return undefined;\n}\nfunction encodeCursor(cursor) {\n    return Buffer.from(JSON.stringify({\n        timestamp: cursor.timestamp,\n        id: cursor.id\n    }), \"utf-8\").toString(\"base64url\");\n}\nfunction queryTurnsPage(filter, cursor) {\n    return getDb().queryTurns({\n        from: filter.from,\n        to: filter.to,\n        q: filter.q,\n        state: filter.state,\n        limit: filter.limit,\n        cursor\n    });\n}\nfunction collectTurnsAfterCursor(filter, cursor, maxScan, pageSize) {\n    const db = getDb();\n    const collected = [];\n    let scanned = 0;\n    let pageCursor;\n    let stop = false;\n    while(!stop && scanned < maxScan){\n        const page = db.queryTurns({\n            from: filter.from,\n            to: filter.to,\n            q: filter.q,\n            state: filter.state,\n            limit: pageSize,\n            cursor: pageCursor\n        });\n        if (page.turns.length === 0) {\n            break;\n        }\n        scanned += page.turns.length;\n        for (const turn of page.turns){\n            if (isTurnAfterCursor(turn, cursor)) {\n                collected.push(turn);\n            } else {\n                stop = true;\n                break;\n            }\n        }\n        if (stop || !page.hasMore) {\n            break;\n        }\n        const last = page.turns[page.turns.length - 1];\n        pageCursor = {\n            timestamp: last.timestamp,\n            id: last.id\n        };\n    }\n    return collected;\n}\nfunction isTurnAfterCursor(turn, cursor) {\n    if (turn.timestamp > cursor.timestamp) return true;\n    if (turn.timestamp < cursor.timestamp) return false;\n    return turn.id > cursor.id;\n}\nfunction inferTurnState(turn) {\n    if (turn.state === \"running\" && turn.toolCalls.some((call)=>call.name === \"sleep\" && !call.error)) {\n        return \"sleeping\";\n    }\n    return isAgentState(turn.state) ? turn.state : \"running\";\n}\nfunction serializeTurn(turn) {\n    const state = inferTurnState(turn);\n    return {\n        id: turn.id,\n        timestamp: turn.timestamp,\n        state,\n        inputSource: turn.inputSource || null,\n        input: turn.input || \"\",\n        thinking: trimForUi(turn.thinking || \"\", 1800),\n        summary: trimForUi(summarizeTurn(turn), 800),\n        toolNames: turn.toolCalls.map((call)=>call.name),\n        hasError: turn.toolCalls.some((call)=>!!call.error),\n        tokenUsage: turn.tokenUsage || {},\n        costCents: turn.costCents,\n        tools: turn.toolCalls.map((call)=>({\n                id: call.id,\n                name: call.name,\n                durationMs: call.durationMs,\n                error: call.error || null,\n                result: trimForUi(call.result || \"\", 700)\n            }))\n    };\n}\nfunction summarizeTurn(turn) {\n    const thought = trimForUi(turn.thinking || \"\", 640);\n    if (thought) return thought;\n    const tools = turn.toolCalls || [];\n    if (tools.length === 0) {\n        if (turn.input) {\n            return `Processed ${turn.inputSource || \"unknown\"} input: ` + trimForUi(turn.input, 220);\n        }\n        return \"No thought text or tool output was recorded for this turn.\";\n    }\n    const uniqueNames = Array.from(new Set(tools.map((tool)=>tool.name).filter(Boolean)));\n    const shownNames = uniqueNames.slice(0, 4).join(\", \");\n    const hiddenNameCount = Math.max(0, uniqueNames.length - 4);\n    const errorCount = tools.filter((tool)=>!!tool.error).length;\n    const successCount = tools.length - errorCount;\n    let summary = `Executed ${tools.length} tool call${tools.length === 1 ? \"\" : \"s\"}` + (shownNames ? ` (${shownNames}${hiddenNameCount ? ` +${hiddenNameCount} more` : \"\"})` : \"\") + \".\";\n    if (errorCount > 0) {\n        summary += ` ${errorCount} failed, ${successCount} succeeded.`;\n    } else {\n        summary += \" Completed without recorded errors.\";\n    }\n    const firstUseful = tools.map((tool)=>{\n        if (tool.error) {\n            return `${tool.name} error: ${trimForUi(tool.error, 140)}`;\n        }\n        if (tool.result && tool.result.trim()) {\n            return `${tool.name} result: ${trimForUi(tool.result, 160)}`;\n        }\n        return \"\";\n    }).find((line)=>!!line);\n    if (firstUseful) {\n        summary += ` ${firstUseful}`;\n    }\n    return summary;\n}\nasync function buildOverview() {\n    const db = getDb();\n    const config = getConfig();\n    const state = db.getAgentState();\n    const turnCount = db.getTurnCount();\n    const lastTurn = db.getRecentTurns(1).at(0);\n    const heartbeats = db.getHeartbeatEntries();\n    const snapshots = parseFinancialSnapshots();\n    const liveCredits = await fetchCreditsBalance(config.conwayApiUrl, config.conwayApiKey);\n    const creditsCents = liveCredits ?? snapshots.creditsCents ?? 0;\n    const tier = asTier(db.getKV(\"current_tier\")) || asTier(snapshots.tier) || deriveTierFromCredits(creditsCents);\n    const activeModel = db.getKV(\"active_model\") || db.getKV(\"last_inference_model\") || config.inferenceModel;\n    const lastInferenceModel = db.getKV(\"last_inference_model\") || activeModel;\n    const lastInferenceAt = db.getKV(\"last_inference_at\") || null;\n    const lastHeartbeat = parseJson(db.getKV(\"last_heartbeat_ping\"));\n    const distress = parseJson(db.getKV(\"last_distress\"));\n    return {\n        runtime: {\n            state: isAgentState(state) ? state : \"running\",\n            tier,\n            turnCount,\n            lastTurnAt: lastTurn?.timestamp || null,\n            activeHeartbeats: heartbeats.filter((entry)=>entry.enabled).length,\n            lastHeartbeatAt: lastHeartbeat?.timestamp || null\n        },\n        model: {\n            configured: config.inferenceModel,\n            active: activeModel,\n            lastUsed: lastInferenceModel,\n            lastUsedAt: lastInferenceAt\n        },\n        balances: {\n            creditsCents,\n            creditsUsd: Number((creditsCents / 100).toFixed(2)),\n            usdc: snapshots.usdcBalance !== undefined ? Number(snapshots.usdcBalance.toFixed(6)) : null,\n            source: liveCredits !== undefined ? \"live\" : \"cached\"\n        },\n        creator: config.creatorAddress,\n        distress: !!distress\n    };\n}\nasync function askLogs(params) {\n    const db = getDb();\n    const config = getConfig();\n    const turns = db.queryTurns({\n        from: params.filter.from,\n        to: params.filter.to,\n        q: params.filter.q,\n        state: params.filter.state,\n        limit: clamp(params.limit, 10, 300)\n    }).turns;\n    if (turns.length === 0) {\n        return {\n            answer: \"No logs matched the current filters. Expand the date range or clear search.\",\n            modelUsed: null,\n            sources: []\n        };\n    }\n    const apiKey = config.conwayApiKey;\n    if (!apiKey) {\n        throw new Error(\"No Conway API key configured for the running automaton.\");\n    }\n    const model = db.getKV(\"active_model\") || db.getKV(\"last_inference_model\") || config.inferenceModel;\n    const context = serializeTurnsForAsk(turns.slice().reverse());\n    const answer = await askLogsWithModel({\n        apiUrl: config.conwayApiUrl,\n        apiKey,\n        model,\n        question: params.question,\n        context\n    });\n    return {\n        answer: answer.text,\n        modelUsed: answer.model,\n        sources: turns.slice(0, 8).map((turn)=>({\n                id: turn.id,\n                timestamp: turn.timestamp,\n                state: inferTurnState(turn),\n                snippet: trimForUi(summarizeTurn(turn), 180)\n            }))\n    };\n}\nfunction serializeTurnsForAsk(turns) {\n    const maxChars = 45000;\n    let used = 0;\n    const lines = [];\n    for (const turn of turns){\n        const toolSummary = turn.toolCalls.map((call)=>`${call.name}${call.error ? \"(error)\" : \"(ok)\"}: ${trimForUi(call.result || \"\", 120)}`).join(\" | \");\n        const line = `[${turn.timestamp}] id=${turn.id} state=${turn.state} ` + `input=${trimForUi(turn.input || \"\", 240)} ` + `thought=${trimForUi(turn.thinking || summarizeTurn(turn), 400)} ` + `tools=${toolSummary || \"none\"}`;\n        if (used + line.length + 1 > maxChars) break;\n        lines.push(line);\n        used += line.length + 1;\n    }\n    return lines.join(\"\\n\");\n}\nasync function askLogsWithModel(params) {\n    const requiresCompletionTokens = /^(o[1-9]|gpt-5|gpt-4\\.1)/.test(params.model);\n    const body = {\n        model: params.model,\n        messages: [\n            {\n                role: \"system\",\n                content: \"You are an operations assistant for an autonomous coding agent. \" + \"Answer using only the supplied logs. Be concise, factual, and explicit about uncertainty. \" + \"Always respond in Markdown using sections: '## Summary', '## Timeline', '## Key Evidence', and '## Unknowns'.\"\n            },\n            {\n                role: \"user\",\n                content: `Question: ${params.question}\\n\\n` + `Activity log:\\n${params.context}\\n\\n` + \"Return Markdown only. Use short bullet points and include concrete timestamps where available.\"\n            }\n        ],\n        stream: false,\n        temperature: 0.2\n    };\n    if (requiresCompletionTokens) {\n        body.max_completion_tokens = 800;\n    } else {\n        body.max_tokens = 800;\n    }\n    const resp = await fetch(`${params.apiUrl}/v1/chat/completions`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: params.apiKey\n        },\n        body: JSON.stringify(body)\n    });\n    if (!resp.ok) {\n        const text = await resp.text();\n        throw new Error(`Inference failed: ${resp.status}: ${text}`);\n    }\n    const data = await resp.json();\n    const choice = data.choices?.[0];\n    if (!choice) {\n        throw new Error(\"Inference returned no choices.\");\n    }\n    const message = choice.message?.content;\n    const text = typeof message === \"string\" ? message.trim() : Array.isArray(message) ? message.map((part)=>{\n        if (typeof part === \"string\") return part;\n        if (typeof part === \"object\" && part !== null && \"text\" in part && typeof part.text === \"string\") {\n            return part.text;\n        }\n        return \"\";\n    }).join(\"\\n\").trim() : \"\";\n    if (!text) {\n        throw new Error(\"Inference returned an empty answer.\");\n    }\n    return {\n        text,\n        model: data.model || params.model\n    };\n}\nasync function fetchCreditsBalance(apiUrl, apiKey) {\n    if (!apiKey) return undefined;\n    try {\n        const resp = await fetch(`${apiUrl}/v1/credits/balance`, {\n            headers: {\n                Authorization: apiKey\n            }\n        });\n        if (!resp.ok) return undefined;\n        const data = await resp.json();\n        return firstDefinedNumber(toNumber(data.balance_cents), toNumber(data.credits_cents));\n    } catch  {\n        return undefined;\n    }\n}\nfunction parseFinancialSnapshots() {\n    const db = getDb();\n    const lastCreditCheck = parseJson(db.getKV(\"last_credit_check\"));\n    const lastUsdcCheck = parseJson(db.getKV(\"last_usdc_check\"));\n    const financialState = parseJson(db.getKV(\"financial_state\"));\n    return {\n        creditsCents: firstDefinedNumber(lastCreditCheck?.credits, financialState?.creditsCents),\n        usdcBalance: firstDefinedNumber(lastUsdcCheck?.balance, financialState?.usdcBalance),\n        tier: lastCreditCheck?.tier,\n        creditTimestamp: lastCreditCheck?.timestamp || financialState?.lastChecked,\n        usdcTimestamp: lastUsdcCheck?.timestamp || financialState?.lastChecked\n    };\n}\nfunction deriveTierFromCredits(creditsCents) {\n    if (creditsCents > 50) return \"normal\";\n    if (creditsCents > 10) return \"low_compute\";\n    if (creditsCents > 0) return \"critical\";\n    return \"dead\";\n}\nfunction asTier(value) {\n    if (value === \"normal\" || value === \"low_compute\" || value === \"critical\" || value === \"dead\") {\n        return value;\n    }\n    return undefined;\n}\nfunction parseJson(value) {\n    if (!value) return undefined;\n    try {\n        return JSON.parse(value);\n    } catch  {\n        return undefined;\n    }\n}\nfunction toNumber(value) {\n    if (typeof value === \"number\" && Number.isFinite(value)) return value;\n    if (typeof value === \"string\" && value.trim() !== \"\") {\n        const parsed = Number(value);\n        if (Number.isFinite(parsed)) return parsed;\n    }\n    return undefined;\n}\nfunction firstDefinedNumber(...values) {\n    for (const value of values){\n        if (typeof value === \"number\" && Number.isFinite(value)) {\n            return value;\n        }\n    }\n    return undefined;\n}\nfunction clamp(value, min, max) {\n    return Math.min(max, Math.max(min, value));\n}\nfunction trimForUi(value, maxLen) {\n    const trimmed = value.replace(/\\s+/g, \" \").trim();\n    if (trimmed.length <= maxLen) return trimmed;\n    return `${trimmed.slice(0, maxLen - 1)}...`;\n}\nfunction isAgentState(value) {\n    return !!value && _shared_types__WEBPACK_IMPORTED_MODULE_2__.AGENT_STATES.includes(value);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dHM/MTRjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2FkQ29uZmlnLCByZXNvbHZlUGF0aCB9IGZyb20gXCJAY29ud2F5L2F1dG9tYXRvbi9jb25maWcuanNcIjtcbmltcG9ydCB7IGNyZWF0ZURhdGFiYXNlIH0gZnJvbSBcIkBjb253YXkvYXV0b21hdG9uL3N0YXRlL2RhdGFiYXNlLmpzXCI7XG5pbXBvcnQge1xuICBBR0VOVF9TVEFURVMsXG4gIHR5cGUgQWdlbnRTdGF0ZU5hbWUsXG4gIHR5cGUgQ3Vyc29yLFxuICB0eXBlIE92ZXJ2aWV3UmVzcG9uc2UsXG4gIHR5cGUgU2VyaWFsaXplZFR1cm4sXG59IGZyb20gXCIuLi9zaGFyZWQvdHlwZXNcIjtcblxubGV0IGNvbmZpZ0NhY2hlOiBSZXR1cm5UeXBlPHR5cGVvZiBsb2FkQ29uZmlnPiB8IG51bGwgfCB1bmRlZmluZWQ7XG5sZXQgZGJDYWNoZTogUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlRGF0YWJhc2U+IHwgdW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBnZXRDb25maWcoKSB7XG4gIGlmIChjb25maWdDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uZmlnQ2FjaGUgPSBsb2FkQ29uZmlnKCk7XG4gIH1cbiAgaWYgKCFjb25maWdDYWNoZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGF1dG9tYXRvbiBjb25maWd1cmF0aW9uIGZvdW5kLlwiKTtcbiAgfVxuICByZXR1cm4gY29uZmlnQ2FjaGU7XG59XG5cbmZ1bmN0aW9uIGdldERiKCkge1xuICBpZiAoIWRiQ2FjaGUpIHtcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcbiAgICBkYkNhY2hlID0gY3JlYXRlRGF0YWJhc2UocmVzb2x2ZVBhdGgoY29uZmlnLmRiUGF0aCkpO1xuICB9XG4gIHJldHVybiBkYkNhY2hlO1xufVxuXG50eXBlIERiID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlRGF0YWJhc2U+O1xuZXhwb3J0IHR5cGUgQWdlbnRUdXJuUmVjb3JkID0gUmV0dXJuVHlwZTxEYltcImdldFJlY2VudFR1cm5zXCJdPltudW1iZXJdO1xudHlwZSBUdXJuc1F1ZXJ5U3RhdGUgPSBQYXJhbWV0ZXJzPERiW1wicXVlcnlUdXJuc1wiXT5bMF1bXCJzdGF0ZVwiXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bnRpbWVDb25maWcoKSB7XG4gIHJldHVybiBnZXRDb25maWcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFiYXNlKCkge1xuICByZXR1cm4gZ2V0RGIoKTtcbn1cblxuZXhwb3J0IHR5cGUgTG9nc0ZpbHRlciA9IHtcbiAgZnJvbT86IHN0cmluZztcbiAgdG8/OiBzdHJpbmc7XG4gIHE/OiBzdHJpbmc7XG4gIHN0YXRlPzogQWdlbnRTdGF0ZU5hbWU7XG4gIGxpbWl0OiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEZpbHRlcihcbiAgcGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMsXG4gIGJvZHk/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IExvZ3NGaWx0ZXIge1xuICBjb25zdCByYXdTdGF0ZSA9XG4gICAgKHR5cGVvZiBib2R5Py5zdGF0ZSA9PT0gXCJzdHJpbmdcIiA/IGJvZHkuc3RhdGUgOiB1bmRlZmluZWQpIHx8XG4gICAgcGFyYW1zLmdldChcInN0YXRlXCIpIHx8XG4gICAgdW5kZWZpbmVkO1xuICBjb25zdCBmcm9tUmF3ID1cbiAgICAodHlwZW9mIGJvZHk/LmZyb20gPT09IFwic3RyaW5nXCIgPyBib2R5LmZyb20gOiB1bmRlZmluZWQpIHx8XG4gICAgcGFyYW1zLmdldChcImZyb21cIikgfHxcbiAgICB1bmRlZmluZWQ7XG4gIGNvbnN0IHRvUmF3ID1cbiAgICAodHlwZW9mIGJvZHk/LnRvID09PSBcInN0cmluZ1wiID8gYm9keS50byA6IHVuZGVmaW5lZCkgfHxcbiAgICBwYXJhbXMuZ2V0KFwidG9cIikgfHxcbiAgICB1bmRlZmluZWQ7XG5cbiAgcmV0dXJuIHtcbiAgICBmcm9tOiBub3JtYWxpemVJc29EYXRlRmlsdGVyKGZyb21SYXcpLFxuICAgIHRvOiBub3JtYWxpemVJc29EYXRlRmlsdGVyKHRvUmF3KSxcbiAgICBxOlxuICAgICAgKHR5cGVvZiBib2R5Py5xID09PSBcInN0cmluZ1wiID8gYm9keS5xIDogdW5kZWZpbmVkKSB8fFxuICAgICAgcGFyYW1zLmdldChcInFcIikgfHxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICBzdGF0ZTogaXNBZ2VudFN0YXRlKHJhd1N0YXRlKSA/IHJhd1N0YXRlIDogdW5kZWZpbmVkLFxuICAgIGxpbWl0OiBjbGFtcCh0b051bWJlcihib2R5Py5saW1pdCA/PyBwYXJhbXMuZ2V0KFwibGltaXRcIikpID8/IDQwLCAxLCAyMDApLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplSXNvRGF0ZUZpbHRlcih2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgY29uc3QgbXMgPSBEYXRlLnBhcnNlKHZhbHVlKTtcbiAgaWYgKE51bWJlci5pc05hTihtcykpIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiBuZXcgRGF0ZShtcykudG9JU09TdHJpbmcoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRKc29uQm9keShcbiAgcmVxdWVzdDogUmVxdWVzdCxcbik6IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IHtcbiAgY29uc3QgcmF3ID0gKGF3YWl0IHJlcXVlc3QudGV4dCgpKS50cmltKCk7XG4gIGlmICghcmF3KSByZXR1cm4ge307XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShyYXcpO1xuICAgIGlmIChwYXJzZWQgJiYgdHlwZW9mIHBhcnNlZCA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICByZXR1cm4gcGFyc2VkIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZUN1cnNvcihyYXc6IHN0cmluZyB8IG51bGwpOiBDdXJzb3IgfCB1bmRlZmluZWQge1xuICBpZiAoIXJhdykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gQnVmZmVyLmZyb20ocmF3LCBcImJhc2U2NHVybFwiKS50b1N0cmluZyhcInV0Zi04XCIpO1xuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZGVjb2RlZCkgYXMge1xuICAgICAgdGltZXN0YW1wPzogdW5rbm93bjtcbiAgICAgIGlkPzogdW5rbm93bjtcbiAgICB9O1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBwYXJzZWQ/LnRpbWVzdGFtcCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgdHlwZW9mIHBhcnNlZD8uaWQgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgIHBhcnNlZC50aW1lc3RhbXAgJiZcbiAgICAgIHBhcnNlZC5pZCAmJlxuICAgICAgIU51bWJlci5pc05hTihEYXRlLnBhcnNlKHBhcnNlZC50aW1lc3RhbXApKVxuICAgICkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShwYXJzZWQudGltZXN0YW1wKS50b0lTT1N0cmluZygpLFxuICAgICAgICBpZDogcGFyc2VkLmlkLFxuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUN1cnNvcihjdXJzb3I6IEN1cnNvcik6IHN0cmluZyB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0aW1lc3RhbXA6IGN1cnNvci50aW1lc3RhbXAsXG4gICAgICBpZDogY3Vyc29yLmlkLFxuICAgIH0pLFxuICAgIFwidXRmLThcIixcbiAgKS50b1N0cmluZyhcImJhc2U2NHVybFwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5VHVybnNQYWdlKGZpbHRlcjogTG9nc0ZpbHRlciwgY3Vyc29yPzogQ3Vyc29yKSB7XG4gIHJldHVybiBnZXREYigpLnF1ZXJ5VHVybnMoe1xuICAgIGZyb206IGZpbHRlci5mcm9tLFxuICAgIHRvOiBmaWx0ZXIudG8sXG4gICAgcTogZmlsdGVyLnEsXG4gICAgc3RhdGU6IGZpbHRlci5zdGF0ZSBhcyBUdXJuc1F1ZXJ5U3RhdGUsXG4gICAgbGltaXQ6IGZpbHRlci5saW1pdCxcbiAgICBjdXJzb3IsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdFR1cm5zQWZ0ZXJDdXJzb3IoXG4gIGZpbHRlcjogT21pdDxMb2dzRmlsdGVyLCBcImxpbWl0XCI+LFxuICBjdXJzb3I6IEN1cnNvcixcbiAgbWF4U2NhbjogbnVtYmVyLFxuICBwYWdlU2l6ZTogbnVtYmVyLFxuKTogQWdlbnRUdXJuUmVjb3JkW10ge1xuICBjb25zdCBkYiA9IGdldERiKCk7XG4gIGNvbnN0IGNvbGxlY3RlZDogQWdlbnRUdXJuUmVjb3JkW10gPSBbXTtcbiAgbGV0IHNjYW5uZWQgPSAwO1xuICBsZXQgcGFnZUN1cnNvcjogQ3Vyc29yIHwgdW5kZWZpbmVkO1xuICBsZXQgc3RvcCA9IGZhbHNlO1xuXG4gIHdoaWxlICghc3RvcCAmJiBzY2FubmVkIDwgbWF4U2Nhbikge1xuICAgIGNvbnN0IHBhZ2UgPSBkYi5xdWVyeVR1cm5zKHtcbiAgICAgIGZyb206IGZpbHRlci5mcm9tLFxuICAgICAgdG86IGZpbHRlci50byxcbiAgICAgIHE6IGZpbHRlci5xLFxuICAgICAgc3RhdGU6IGZpbHRlci5zdGF0ZSBhcyBUdXJuc1F1ZXJ5U3RhdGUsXG4gICAgICBsaW1pdDogcGFnZVNpemUsXG4gICAgICBjdXJzb3I6IHBhZ2VDdXJzb3IsXG4gICAgfSk7XG5cbiAgICBpZiAocGFnZS50dXJucy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHNjYW5uZWQgKz0gcGFnZS50dXJucy5sZW5ndGg7XG5cbiAgICBmb3IgKGNvbnN0IHR1cm4gb2YgcGFnZS50dXJucykge1xuICAgICAgaWYgKGlzVHVybkFmdGVyQ3Vyc29yKHR1cm4sIGN1cnNvcikpIHtcbiAgICAgICAgY29sbGVjdGVkLnB1c2godHVybik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0b3AgfHwgIXBhZ2UuaGFzTW9yZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgbGFzdCA9IHBhZ2UudHVybnNbcGFnZS50dXJucy5sZW5ndGggLSAxXTtcbiAgICBwYWdlQ3Vyc29yID0ge1xuICAgICAgdGltZXN0YW1wOiBsYXN0LnRpbWVzdGFtcCxcbiAgICAgIGlkOiBsYXN0LmlkLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY29sbGVjdGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUdXJuQWZ0ZXJDdXJzb3IoXG4gIHR1cm46IHsgdGltZXN0YW1wOiBzdHJpbmc7IGlkOiBzdHJpbmcgfSxcbiAgY3Vyc29yOiBDdXJzb3IsXG4pOiBib29sZWFuIHtcbiAgaWYgKHR1cm4udGltZXN0YW1wID4gY3Vyc29yLnRpbWVzdGFtcCkgcmV0dXJuIHRydWU7XG4gIGlmICh0dXJuLnRpbWVzdGFtcCA8IGN1cnNvci50aW1lc3RhbXApIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHR1cm4uaWQgPiBjdXJzb3IuaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZlclR1cm5TdGF0ZSh0dXJuOiBBZ2VudFR1cm5SZWNvcmQpOiBBZ2VudFN0YXRlTmFtZSB7XG4gIGlmIChcbiAgICB0dXJuLnN0YXRlID09PSBcInJ1bm5pbmdcIiAmJlxuICAgIHR1cm4udG9vbENhbGxzLnNvbWUoKGNhbGwpID0+IGNhbGwubmFtZSA9PT0gXCJzbGVlcFwiICYmICFjYWxsLmVycm9yKVxuICApIHtcbiAgICByZXR1cm4gXCJzbGVlcGluZ1wiO1xuICB9XG4gIHJldHVybiBpc0FnZW50U3RhdGUodHVybi5zdGF0ZSkgPyB0dXJuLnN0YXRlIDogXCJydW5uaW5nXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVUdXJuKHR1cm46IEFnZW50VHVyblJlY29yZCk6IFNlcmlhbGl6ZWRUdXJuIHtcbiAgY29uc3Qgc3RhdGUgPSBpbmZlclR1cm5TdGF0ZSh0dXJuKTtcbiAgcmV0dXJuIHtcbiAgICBpZDogdHVybi5pZCxcbiAgICB0aW1lc3RhbXA6IHR1cm4udGltZXN0YW1wLFxuICAgIHN0YXRlLFxuICAgIGlucHV0U291cmNlOiB0dXJuLmlucHV0U291cmNlIHx8IG51bGwsXG4gICAgaW5wdXQ6IHR1cm4uaW5wdXQgfHwgXCJcIixcbiAgICB0aGlua2luZzogdHJpbUZvclVpKHR1cm4udGhpbmtpbmcgfHwgXCJcIiwgMTgwMCksXG4gICAgc3VtbWFyeTogdHJpbUZvclVpKHN1bW1hcml6ZVR1cm4odHVybiksIDgwMCksXG4gICAgdG9vbE5hbWVzOiB0dXJuLnRvb2xDYWxscy5tYXAoKGNhbGwpID0+IGNhbGwubmFtZSksXG4gICAgaGFzRXJyb3I6IHR1cm4udG9vbENhbGxzLnNvbWUoKGNhbGwpID0+ICEhY2FsbC5lcnJvciksXG4gICAgdG9rZW5Vc2FnZTogdHVybi50b2tlblVzYWdlIHx8IHt9LFxuICAgIGNvc3RDZW50czogdHVybi5jb3N0Q2VudHMsXG4gICAgdG9vbHM6IHR1cm4udG9vbENhbGxzLm1hcCgoY2FsbCkgPT4gKHtcbiAgICAgIGlkOiBjYWxsLmlkLFxuICAgICAgbmFtZTogY2FsbC5uYW1lLFxuICAgICAgZHVyYXRpb25NczogY2FsbC5kdXJhdGlvbk1zLFxuICAgICAgZXJyb3I6IGNhbGwuZXJyb3IgfHwgbnVsbCxcbiAgICAgIHJlc3VsdDogdHJpbUZvclVpKGNhbGwucmVzdWx0IHx8IFwiXCIsIDcwMCksXG4gICAgfSkpLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VtbWFyaXplVHVybih0dXJuOiBBZ2VudFR1cm5SZWNvcmQpOiBzdHJpbmcge1xuICBjb25zdCB0aG91Z2h0ID0gdHJpbUZvclVpKHR1cm4udGhpbmtpbmcgfHwgXCJcIiwgNjQwKTtcbiAgaWYgKHRob3VnaHQpIHJldHVybiB0aG91Z2h0O1xuXG4gIGNvbnN0IHRvb2xzID0gdHVybi50b29sQ2FsbHMgfHwgW107XG4gIGlmICh0b29scy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAodHVybi5pbnB1dCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgYFByb2Nlc3NlZCAke3R1cm4uaW5wdXRTb3VyY2UgfHwgXCJ1bmtub3duXCJ9IGlucHV0OiBgICtcbiAgICAgICAgdHJpbUZvclVpKHR1cm4uaW5wdXQsIDIyMClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBcIk5vIHRob3VnaHQgdGV4dCBvciB0b29sIG91dHB1dCB3YXMgcmVjb3JkZWQgZm9yIHRoaXMgdHVybi5cIjtcbiAgfVxuXG4gIGNvbnN0IHVuaXF1ZU5hbWVzID0gQXJyYXkuZnJvbShcbiAgICBuZXcgU2V0KHRvb2xzLm1hcCgodG9vbCkgPT4gdG9vbC5uYW1lKS5maWx0ZXIoQm9vbGVhbikpLFxuICApO1xuICBjb25zdCBzaG93bk5hbWVzID0gdW5pcXVlTmFtZXMuc2xpY2UoMCwgNCkuam9pbihcIiwgXCIpO1xuICBjb25zdCBoaWRkZW5OYW1lQ291bnQgPSBNYXRoLm1heCgwLCB1bmlxdWVOYW1lcy5sZW5ndGggLSA0KTtcbiAgY29uc3QgZXJyb3JDb3VudCA9IHRvb2xzLmZpbHRlcigodG9vbCkgPT4gISF0b29sLmVycm9yKS5sZW5ndGg7XG4gIGNvbnN0IHN1Y2Nlc3NDb3VudCA9IHRvb2xzLmxlbmd0aCAtIGVycm9yQ291bnQ7XG5cbiAgbGV0IHN1bW1hcnkgPVxuICAgIGBFeGVjdXRlZCAke3Rvb2xzLmxlbmd0aH0gdG9vbCBjYWxsJHt0b29scy5sZW5ndGggPT09IDEgPyBcIlwiIDogXCJzXCJ9YCArXG4gICAgKHNob3duTmFtZXNcbiAgICAgID8gYCAoJHtzaG93bk5hbWVzfSR7aGlkZGVuTmFtZUNvdW50ID8gYCArJHtoaWRkZW5OYW1lQ291bnR9IG1vcmVgIDogXCJcIn0pYFxuICAgICAgOiBcIlwiKSArXG4gICAgXCIuXCI7XG5cbiAgaWYgKGVycm9yQ291bnQgPiAwKSB7XG4gICAgc3VtbWFyeSArPSBgICR7ZXJyb3JDb3VudH0gZmFpbGVkLCAke3N1Y2Nlc3NDb3VudH0gc3VjY2VlZGVkLmA7XG4gIH0gZWxzZSB7XG4gICAgc3VtbWFyeSArPSBcIiBDb21wbGV0ZWQgd2l0aG91dCByZWNvcmRlZCBlcnJvcnMuXCI7XG4gIH1cblxuICBjb25zdCBmaXJzdFVzZWZ1bCA9IHRvb2xzXG4gICAgLm1hcCgodG9vbCkgPT4ge1xuICAgICAgaWYgKHRvb2wuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGAke3Rvb2wubmFtZX0gZXJyb3I6ICR7dHJpbUZvclVpKHRvb2wuZXJyb3IsIDE0MCl9YDtcbiAgICAgIH1cbiAgICAgIGlmICh0b29sLnJlc3VsdCAmJiB0b29sLnJlc3VsdC50cmltKCkpIHtcbiAgICAgICAgcmV0dXJuIGAke3Rvb2wubmFtZX0gcmVzdWx0OiAke3RyaW1Gb3JVaSh0b29sLnJlc3VsdCwgMTYwKX1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfSlcbiAgICAuZmluZCgobGluZSkgPT4gISFsaW5lKTtcblxuICBpZiAoZmlyc3RVc2VmdWwpIHtcbiAgICBzdW1tYXJ5ICs9IGAgJHtmaXJzdFVzZWZ1bH1gO1xuICB9XG5cbiAgcmV0dXJuIHN1bW1hcnk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWlsZE92ZXJ2aWV3KCk6IFByb21pc2U8T3ZlcnZpZXdSZXNwb25zZT4ge1xuICBjb25zdCBkYiA9IGdldERiKCk7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuICBjb25zdCBzdGF0ZSA9IGRiLmdldEFnZW50U3RhdGUoKTtcbiAgY29uc3QgdHVybkNvdW50ID0gZGIuZ2V0VHVybkNvdW50KCk7XG4gIGNvbnN0IGxhc3RUdXJuID0gZGIuZ2V0UmVjZW50VHVybnMoMSkuYXQoMCk7XG4gIGNvbnN0IGhlYXJ0YmVhdHMgPSBkYi5nZXRIZWFydGJlYXRFbnRyaWVzKCk7XG5cbiAgY29uc3Qgc25hcHNob3RzID0gcGFyc2VGaW5hbmNpYWxTbmFwc2hvdHMoKTtcbiAgY29uc3QgbGl2ZUNyZWRpdHMgPSBhd2FpdCBmZXRjaENyZWRpdHNCYWxhbmNlKGNvbmZpZy5jb253YXlBcGlVcmwsIGNvbmZpZy5jb253YXlBcGlLZXkpO1xuICBjb25zdCBjcmVkaXRzQ2VudHMgPSBsaXZlQ3JlZGl0cyA/PyBzbmFwc2hvdHMuY3JlZGl0c0NlbnRzID8/IDA7XG4gIGNvbnN0IHRpZXIgPVxuICAgIGFzVGllcihkYi5nZXRLVihcImN1cnJlbnRfdGllclwiKSkgfHxcbiAgICBhc1RpZXIoc25hcHNob3RzLnRpZXIpIHx8XG4gICAgZGVyaXZlVGllckZyb21DcmVkaXRzKGNyZWRpdHNDZW50cyk7XG5cbiAgY29uc3QgYWN0aXZlTW9kZWwgPVxuICAgIGRiLmdldEtWKFwiYWN0aXZlX21vZGVsXCIpIHx8XG4gICAgZGIuZ2V0S1YoXCJsYXN0X2luZmVyZW5jZV9tb2RlbFwiKSB8fFxuICAgIGNvbmZpZy5pbmZlcmVuY2VNb2RlbDtcbiAgY29uc3QgbGFzdEluZmVyZW5jZU1vZGVsID0gZGIuZ2V0S1YoXCJsYXN0X2luZmVyZW5jZV9tb2RlbFwiKSB8fCBhY3RpdmVNb2RlbDtcbiAgY29uc3QgbGFzdEluZmVyZW5jZUF0ID0gZGIuZ2V0S1YoXCJsYXN0X2luZmVyZW5jZV9hdFwiKSB8fCBudWxsO1xuXG4gIGNvbnN0IGxhc3RIZWFydGJlYXQgPSBwYXJzZUpzb248eyB0aW1lc3RhbXA/OiBzdHJpbmcgfT4oZGIuZ2V0S1YoXCJsYXN0X2hlYXJ0YmVhdF9waW5nXCIpKTtcbiAgY29uc3QgZGlzdHJlc3MgPSBwYXJzZUpzb248UmVjb3JkPHN0cmluZywgdW5rbm93bj4+KGRiLmdldEtWKFwibGFzdF9kaXN0cmVzc1wiKSk7XG5cbiAgcmV0dXJuIHtcbiAgICBydW50aW1lOiB7XG4gICAgICBzdGF0ZTogaXNBZ2VudFN0YXRlKHN0YXRlKSA/IHN0YXRlIDogXCJydW5uaW5nXCIsXG4gICAgICB0aWVyLFxuICAgICAgdHVybkNvdW50LFxuICAgICAgbGFzdFR1cm5BdDogbGFzdFR1cm4/LnRpbWVzdGFtcCB8fCBudWxsLFxuICAgICAgYWN0aXZlSGVhcnRiZWF0czogaGVhcnRiZWF0cy5maWx0ZXIoKGVudHJ5KSA9PiBlbnRyeS5lbmFibGVkKS5sZW5ndGgsXG4gICAgICBsYXN0SGVhcnRiZWF0QXQ6IGxhc3RIZWFydGJlYXQ/LnRpbWVzdGFtcCB8fCBudWxsLFxuICAgIH0sXG4gICAgbW9kZWw6IHtcbiAgICAgIGNvbmZpZ3VyZWQ6IGNvbmZpZy5pbmZlcmVuY2VNb2RlbCxcbiAgICAgIGFjdGl2ZTogYWN0aXZlTW9kZWwsXG4gICAgICBsYXN0VXNlZDogbGFzdEluZmVyZW5jZU1vZGVsLFxuICAgICAgbGFzdFVzZWRBdDogbGFzdEluZmVyZW5jZUF0LFxuICAgIH0sXG4gICAgYmFsYW5jZXM6IHtcbiAgICAgIGNyZWRpdHNDZW50cyxcbiAgICAgIGNyZWRpdHNVc2Q6IE51bWJlcigoY3JlZGl0c0NlbnRzIC8gMTAwKS50b0ZpeGVkKDIpKSxcbiAgICAgIHVzZGM6XG4gICAgICAgIHNuYXBzaG90cy51c2RjQmFsYW5jZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBOdW1iZXIoc25hcHNob3RzLnVzZGNCYWxhbmNlLnRvRml4ZWQoNikpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgc291cmNlOiBsaXZlQ3JlZGl0cyAhPT0gdW5kZWZpbmVkID8gXCJsaXZlXCIgOiBcImNhY2hlZFwiLFxuICAgIH0sXG4gICAgY3JlYXRvcjogY29uZmlnLmNyZWF0b3JBZGRyZXNzLFxuICAgIGRpc3RyZXNzOiAhIWRpc3RyZXNzLFxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXNrTG9ncyhwYXJhbXM6IHtcbiAgZmlsdGVyOiBMb2dzRmlsdGVyO1xuICBxdWVzdGlvbjogc3RyaW5nO1xuICBsaW1pdDogbnVtYmVyO1xufSk6IFByb21pc2U8e1xuICBhbnN3ZXI6IHN0cmluZztcbiAgbW9kZWxVc2VkOiBzdHJpbmcgfCBudWxsO1xuICBzb3VyY2VzOiBBcnJheTx7XG4gICAgaWQ6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IHN0cmluZztcbiAgICBzdGF0ZTogQWdlbnRTdGF0ZU5hbWU7XG4gICAgc25pcHBldDogc3RyaW5nO1xuICB9Pjtcbn0+IHtcbiAgY29uc3QgZGIgPSBnZXREYigpO1xuICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcblxuICBjb25zdCB0dXJucyA9IGRiLnF1ZXJ5VHVybnMoe1xuICAgIGZyb206IHBhcmFtcy5maWx0ZXIuZnJvbSxcbiAgICB0bzogcGFyYW1zLmZpbHRlci50byxcbiAgICBxOiBwYXJhbXMuZmlsdGVyLnEsXG4gICAgc3RhdGU6IHBhcmFtcy5maWx0ZXIuc3RhdGUgYXMgVHVybnNRdWVyeVN0YXRlLFxuICAgIGxpbWl0OiBjbGFtcChwYXJhbXMubGltaXQsIDEwLCAzMDApLFxuICB9KS50dXJucztcblxuICBpZiAodHVybnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFuc3dlcjpcbiAgICAgICAgXCJObyBsb2dzIG1hdGNoZWQgdGhlIGN1cnJlbnQgZmlsdGVycy4gRXhwYW5kIHRoZSBkYXRlIHJhbmdlIG9yIGNsZWFyIHNlYXJjaC5cIixcbiAgICAgIG1vZGVsVXNlZDogbnVsbCxcbiAgICAgIHNvdXJjZXM6IFtdLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBhcGlLZXkgPSBjb25maWcuY29ud2F5QXBpS2V5O1xuICBpZiAoIWFwaUtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIENvbndheSBBUEkga2V5IGNvbmZpZ3VyZWQgZm9yIHRoZSBydW5uaW5nIGF1dG9tYXRvbi5cIik7XG4gIH1cblxuICBjb25zdCBtb2RlbCA9XG4gICAgZGIuZ2V0S1YoXCJhY3RpdmVfbW9kZWxcIikgfHxcbiAgICBkYi5nZXRLVihcImxhc3RfaW5mZXJlbmNlX21vZGVsXCIpIHx8XG4gICAgY29uZmlnLmluZmVyZW5jZU1vZGVsO1xuXG4gIGNvbnN0IGNvbnRleHQgPSBzZXJpYWxpemVUdXJuc0ZvckFzayh0dXJucy5zbGljZSgpLnJldmVyc2UoKSk7XG4gIGNvbnN0IGFuc3dlciA9IGF3YWl0IGFza0xvZ3NXaXRoTW9kZWwoe1xuICAgIGFwaVVybDogY29uZmlnLmNvbndheUFwaVVybCxcbiAgICBhcGlLZXksXG4gICAgbW9kZWwsXG4gICAgcXVlc3Rpb246IHBhcmFtcy5xdWVzdGlvbixcbiAgICBjb250ZXh0LFxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGFuc3dlcjogYW5zd2VyLnRleHQsXG4gICAgbW9kZWxVc2VkOiBhbnN3ZXIubW9kZWwsXG4gICAgc291cmNlczogdHVybnMuc2xpY2UoMCwgOCkubWFwKCh0dXJuKSA9PiAoe1xuICAgICAgaWQ6IHR1cm4uaWQsXG4gICAgICB0aW1lc3RhbXA6IHR1cm4udGltZXN0YW1wLFxuICAgICAgc3RhdGU6IGluZmVyVHVyblN0YXRlKHR1cm4pLFxuICAgICAgc25pcHBldDogdHJpbUZvclVpKHN1bW1hcml6ZVR1cm4odHVybiksIDE4MCksXG4gICAgfSkpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVUdXJuc0ZvckFzayh0dXJuczogQWdlbnRUdXJuUmVjb3JkW10pOiBzdHJpbmcge1xuICBjb25zdCBtYXhDaGFycyA9IDQ1XzAwMDtcbiAgbGV0IHVzZWQgPSAwO1xuICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IHR1cm4gb2YgdHVybnMpIHtcbiAgICBjb25zdCB0b29sU3VtbWFyeSA9IHR1cm4udG9vbENhbGxzXG4gICAgICAubWFwKChjYWxsKSA9PlxuICAgICAgICBgJHtjYWxsLm5hbWV9JHtjYWxsLmVycm9yID8gXCIoZXJyb3IpXCIgOiBcIihvaylcIn06ICR7dHJpbUZvclVpKGNhbGwucmVzdWx0IHx8IFwiXCIsIDEyMCl9YCxcbiAgICAgIClcbiAgICAgIC5qb2luKFwiIHwgXCIpO1xuICAgIGNvbnN0IGxpbmUgPVxuICAgICAgYFske3R1cm4udGltZXN0YW1wfV0gaWQ9JHt0dXJuLmlkfSBzdGF0ZT0ke3R1cm4uc3RhdGV9IGAgK1xuICAgICAgYGlucHV0PSR7dHJpbUZvclVpKHR1cm4uaW5wdXQgfHwgXCJcIiwgMjQwKX0gYCArXG4gICAgICBgdGhvdWdodD0ke3RyaW1Gb3JVaSh0dXJuLnRoaW5raW5nIHx8IHN1bW1hcml6ZVR1cm4odHVybiksIDQwMCl9IGAgK1xuICAgICAgYHRvb2xzPSR7dG9vbFN1bW1hcnkgfHwgXCJub25lXCJ9YDtcblxuICAgIGlmICh1c2VkICsgbGluZS5sZW5ndGggKyAxID4gbWF4Q2hhcnMpIGJyZWFrO1xuICAgIGxpbmVzLnB1c2gobGluZSk7XG4gICAgdXNlZCArPSBsaW5lLmxlbmd0aCArIDE7XG4gIH1cblxuICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYXNrTG9nc1dpdGhNb2RlbChwYXJhbXM6IHtcbiAgYXBpVXJsOiBzdHJpbmc7XG4gIGFwaUtleTogc3RyaW5nO1xuICBtb2RlbDogc3RyaW5nO1xuICBxdWVzdGlvbjogc3RyaW5nO1xuICBjb250ZXh0OiBzdHJpbmc7XG59KTogUHJvbWlzZTx7IHRleHQ6IHN0cmluZzsgbW9kZWw6IHN0cmluZyB9PiB7XG4gIGNvbnN0IHJlcXVpcmVzQ29tcGxldGlvblRva2VucyA9IC9eKG9bMS05XXxncHQtNXxncHQtNFxcLjEpLy50ZXN0KHBhcmFtcy5tb2RlbCk7XG4gIGNvbnN0IGJvZHk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge1xuICAgIG1vZGVsOiBwYXJhbXMubW9kZWwsXG4gICAgbWVzc2FnZXM6IFtcbiAgICAgIHtcbiAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgY29udGVudDpcbiAgICAgICAgICBcIllvdSBhcmUgYW4gb3BlcmF0aW9ucyBhc3Npc3RhbnQgZm9yIGFuIGF1dG9ub21vdXMgY29kaW5nIGFnZW50LiBcIiArXG4gICAgICAgICAgXCJBbnN3ZXIgdXNpbmcgb25seSB0aGUgc3VwcGxpZWQgbG9ncy4gQmUgY29uY2lzZSwgZmFjdHVhbCwgYW5kIGV4cGxpY2l0IGFib3V0IHVuY2VydGFpbnR5LiBcIiArXG4gICAgICAgICAgXCJBbHdheXMgcmVzcG9uZCBpbiBNYXJrZG93biB1c2luZyBzZWN0aW9uczogJyMjIFN1bW1hcnknLCAnIyMgVGltZWxpbmUnLCAnIyMgS2V5IEV2aWRlbmNlJywgYW5kICcjIyBVbmtub3ducycuXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgY29udGVudDpcbiAgICAgICAgICBgUXVlc3Rpb246ICR7cGFyYW1zLnF1ZXN0aW9ufVxcblxcbmAgK1xuICAgICAgICAgIGBBY3Rpdml0eSBsb2c6XFxuJHtwYXJhbXMuY29udGV4dH1cXG5cXG5gICtcbiAgICAgICAgICBcIlJldHVybiBNYXJrZG93biBvbmx5LiBVc2Ugc2hvcnQgYnVsbGV0IHBvaW50cyBhbmQgaW5jbHVkZSBjb25jcmV0ZSB0aW1lc3RhbXBzIHdoZXJlIGF2YWlsYWJsZS5cIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBzdHJlYW06IGZhbHNlLFxuICAgIHRlbXBlcmF0dXJlOiAwLjIsXG4gIH07XG5cbiAgaWYgKHJlcXVpcmVzQ29tcGxldGlvblRva2Vucykge1xuICAgIGJvZHkubWF4X2NvbXBsZXRpb25fdG9rZW5zID0gODAwO1xuICB9IGVsc2Uge1xuICAgIGJvZHkubWF4X3Rva2VucyA9IDgwMDtcbiAgfVxuXG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChgJHtwYXJhbXMuYXBpVXJsfS92MS9jaGF0L2NvbXBsZXRpb25zYCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBBdXRob3JpemF0aW9uOiBwYXJhbXMuYXBpS2V5LFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gIH0pO1xuXG4gIGlmICghcmVzcC5vaykge1xuICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwLnRleHQoKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEluZmVyZW5jZSBmYWlsZWQ6ICR7cmVzcC5zdGF0dXN9OiAke3RleHR9YCk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gKGF3YWl0IHJlc3AuanNvbigpKSBhcyB7XG4gICAgY2hvaWNlcz86IEFycmF5PHsgbWVzc2FnZT86IHsgY29udGVudD86IHVua25vd24gfSB9PjtcbiAgICBtb2RlbD86IHN0cmluZztcbiAgfTtcbiAgY29uc3QgY2hvaWNlID0gZGF0YS5jaG9pY2VzPy5bMF07XG4gIGlmICghY2hvaWNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5mZXJlbmNlIHJldHVybmVkIG5vIGNob2ljZXMuXCIpO1xuICB9XG5cbiAgY29uc3QgbWVzc2FnZSA9IGNob2ljZS5tZXNzYWdlPy5jb250ZW50O1xuICBjb25zdCB0ZXh0ID1cbiAgICB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgPyBtZXNzYWdlLnRyaW0oKVxuICAgICAgOiBBcnJheS5pc0FycmF5KG1lc3NhZ2UpXG4gICAgICAgID8gbWVzc2FnZVxuICAgICAgICAgICAgLm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBwYXJ0O1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdHlwZW9mIHBhcnQgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgICAgICBwYXJ0ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgXCJ0ZXh0XCIgaW4gcGFydCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiAocGFydCBhcyB7IHRleHQ/OiB1bmtub3duIH0pLnRleHQgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChwYXJ0IGFzIHsgdGV4dDogc3RyaW5nIH0pLnRleHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oXCJcXG5cIilcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgOiBcIlwiO1xuXG4gIGlmICghdGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkluZmVyZW5jZSByZXR1cm5lZCBhbiBlbXB0eSBhbnN3ZXIuXCIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0ZXh0LFxuICAgIG1vZGVsOiBkYXRhLm1vZGVsIHx8IHBhcmFtcy5tb2RlbCxcbiAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hDcmVkaXRzQmFsYW5jZShcbiAgYXBpVXJsOiBzdHJpbmcsXG4gIGFwaUtleTogc3RyaW5nLFxuKTogUHJvbWlzZTxudW1iZXIgfCB1bmRlZmluZWQ+IHtcbiAgaWYgKCFhcGlLZXkpIHJldHVybiB1bmRlZmluZWQ7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vdjEvY3JlZGl0cy9iYWxhbmNlYCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBhcGlLZXksXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghcmVzcC5vaykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlc3AuanNvbigpKSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICByZXR1cm4gZmlyc3REZWZpbmVkTnVtYmVyKFxuICAgICAgdG9OdW1iZXIoZGF0YS5iYWxhbmNlX2NlbnRzKSxcbiAgICAgIHRvTnVtYmVyKGRhdGEuY3JlZGl0c19jZW50cyksXG4gICAgKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUZpbmFuY2lhbFNuYXBzaG90cygpOiB7XG4gIGNyZWRpdHNDZW50cz86IG51bWJlcjtcbiAgdXNkY0JhbGFuY2U/OiBudW1iZXI7XG4gIHRpZXI/OiBzdHJpbmc7XG4gIGNyZWRpdFRpbWVzdGFtcD86IHN0cmluZztcbiAgdXNkY1RpbWVzdGFtcD86IHN0cmluZztcbn0ge1xuICBjb25zdCBkYiA9IGdldERiKCk7XG4gIGNvbnN0IGxhc3RDcmVkaXRDaGVjayA9IHBhcnNlSnNvbjx7XG4gICAgY3JlZGl0cz86IG51bWJlcjtcbiAgICB0aWVyPzogc3RyaW5nO1xuICAgIHRpbWVzdGFtcD86IHN0cmluZztcbiAgfT4oZGIuZ2V0S1YoXCJsYXN0X2NyZWRpdF9jaGVja1wiKSk7XG4gIGNvbnN0IGxhc3RVc2RjQ2hlY2sgPSBwYXJzZUpzb248e1xuICAgIGJhbGFuY2U/OiBudW1iZXI7XG4gICAgdGltZXN0YW1wPzogc3RyaW5nO1xuICB9PihkYi5nZXRLVihcImxhc3RfdXNkY19jaGVja1wiKSk7XG4gIGNvbnN0IGZpbmFuY2lhbFN0YXRlID0gcGFyc2VKc29uPHtcbiAgICBjcmVkaXRzQ2VudHM/OiBudW1iZXI7XG4gICAgdXNkY0JhbGFuY2U/OiBudW1iZXI7XG4gICAgbGFzdENoZWNrZWQ/OiBzdHJpbmc7XG4gIH0+KGRiLmdldEtWKFwiZmluYW5jaWFsX3N0YXRlXCIpKTtcblxuICByZXR1cm4ge1xuICAgIGNyZWRpdHNDZW50czogZmlyc3REZWZpbmVkTnVtYmVyKGxhc3RDcmVkaXRDaGVjaz8uY3JlZGl0cywgZmluYW5jaWFsU3RhdGU/LmNyZWRpdHNDZW50cyksXG4gICAgdXNkY0JhbGFuY2U6IGZpcnN0RGVmaW5lZE51bWJlcihsYXN0VXNkY0NoZWNrPy5iYWxhbmNlLCBmaW5hbmNpYWxTdGF0ZT8udXNkY0JhbGFuY2UpLFxuICAgIHRpZXI6IGxhc3RDcmVkaXRDaGVjaz8udGllcixcbiAgICBjcmVkaXRUaW1lc3RhbXA6IGxhc3RDcmVkaXRDaGVjaz8udGltZXN0YW1wIHx8IGZpbmFuY2lhbFN0YXRlPy5sYXN0Q2hlY2tlZCxcbiAgICB1c2RjVGltZXN0YW1wOiBsYXN0VXNkY0NoZWNrPy50aW1lc3RhbXAgfHwgZmluYW5jaWFsU3RhdGU/Lmxhc3RDaGVja2VkLFxuICB9O1xufVxuXG5mdW5jdGlvbiBkZXJpdmVUaWVyRnJvbUNyZWRpdHMoXG4gIGNyZWRpdHNDZW50czogbnVtYmVyLFxuKTogXCJub3JtYWxcIiB8IFwibG93X2NvbXB1dGVcIiB8IFwiY3JpdGljYWxcIiB8IFwiZGVhZFwiIHtcbiAgaWYgKGNyZWRpdHNDZW50cyA+IDUwKSByZXR1cm4gXCJub3JtYWxcIjtcbiAgaWYgKGNyZWRpdHNDZW50cyA+IDEwKSByZXR1cm4gXCJsb3dfY29tcHV0ZVwiO1xuICBpZiAoY3JlZGl0c0NlbnRzID4gMCkgcmV0dXJuIFwiY3JpdGljYWxcIjtcbiAgcmV0dXJuIFwiZGVhZFwiO1xufVxuXG5mdW5jdGlvbiBhc1RpZXIoXG4gIHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4pOiBcIm5vcm1hbFwiIHwgXCJsb3dfY29tcHV0ZVwiIHwgXCJjcml0aWNhbFwiIHwgXCJkZWFkXCIgfCB1bmRlZmluZWQge1xuICBpZiAoXG4gICAgdmFsdWUgPT09IFwibm9ybWFsXCIgfHxcbiAgICB2YWx1ZSA9PT0gXCJsb3dfY29tcHV0ZVwiIHx8XG4gICAgdmFsdWUgPT09IFwiY3JpdGljYWxcIiB8fFxuICAgIHZhbHVlID09PSBcImRlYWRcIlxuICApIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gcGFyc2VKc29uPFQ+KHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBUIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSkgYXMgVDtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWU6IHVua25vd24pOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZS50cmltKCkgIT09IFwiXCIpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBOdW1iZXIodmFsdWUpO1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSkgcmV0dXJuIHBhcnNlZDtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBmaXJzdERlZmluZWROdW1iZXIoLi4udmFsdWVzOiBBcnJheTxudW1iZXIgfCB1bmRlZmluZWQ+KTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLm1pbihtYXgsIE1hdGgubWF4KG1pbiwgdmFsdWUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaW1Gb3JVaSh2YWx1ZTogc3RyaW5nLCBtYXhMZW46IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKS50cmltKCk7XG4gIGlmICh0cmltbWVkLmxlbmd0aCA8PSBtYXhMZW4pIHJldHVybiB0cmltbWVkO1xuICByZXR1cm4gYCR7dHJpbW1lZC5zbGljZSgwLCBtYXhMZW4gLSAxKX0uLi5gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBZ2VudFN0YXRlKHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQpOiB2YWx1ZSBpcyBBZ2VudFN0YXRlTmFtZSB7XG4gIHJldHVybiAhIXZhbHVlICYmIChBR0VOVF9TVEFURVMgYXMgcmVhZG9ubHkgc3RyaW5nW10pLmluY2x1ZGVzKHZhbHVlKTtcbn1cbiJdLCJuYW1lcyI6WyJsb2FkQ29uZmlnIiwicmVzb2x2ZVBhdGgiLCJjcmVhdGVEYXRhYmFzZSIsIkFHRU5UX1NUQVRFUyIsImNvbmZpZ0NhY2hlIiwiZGJDYWNoZSIsImdldENvbmZpZyIsInVuZGVmaW5lZCIsIkVycm9yIiwiZ2V0RGIiLCJjb25maWciLCJkYlBhdGgiLCJnZXRSdW50aW1lQ29uZmlnIiwiZ2V0RGF0YWJhc2UiLCJleHRyYWN0RmlsdGVyIiwicGFyYW1zIiwiYm9keSIsInJhd1N0YXRlIiwic3RhdGUiLCJnZXQiLCJmcm9tUmF3IiwiZnJvbSIsInRvUmF3IiwidG8iLCJub3JtYWxpemVJc29EYXRlRmlsdGVyIiwicSIsImlzQWdlbnRTdGF0ZSIsImxpbWl0IiwiY2xhbXAiLCJ0b051bWJlciIsInZhbHVlIiwibXMiLCJEYXRlIiwicGFyc2UiLCJOdW1iZXIiLCJpc05hTiIsInRvSVNPU3RyaW5nIiwicmVhZEpzb25Cb2R5IiwicmVxdWVzdCIsInJhdyIsInRleHQiLCJ0cmltIiwicGFyc2VkIiwiSlNPTiIsIkFycmF5IiwiaXNBcnJheSIsImRlY29kZUN1cnNvciIsImRlY29kZWQiLCJCdWZmZXIiLCJ0b1N0cmluZyIsInRpbWVzdGFtcCIsImlkIiwiZW5jb2RlQ3Vyc29yIiwiY3Vyc29yIiwic3RyaW5naWZ5IiwicXVlcnlUdXJuc1BhZ2UiLCJmaWx0ZXIiLCJxdWVyeVR1cm5zIiwiY29sbGVjdFR1cm5zQWZ0ZXJDdXJzb3IiLCJtYXhTY2FuIiwicGFnZVNpemUiLCJkYiIsImNvbGxlY3RlZCIsInNjYW5uZWQiLCJwYWdlQ3Vyc29yIiwic3RvcCIsInBhZ2UiLCJ0dXJucyIsImxlbmd0aCIsInR1cm4iLCJpc1R1cm5BZnRlckN1cnNvciIsInB1c2giLCJoYXNNb3JlIiwibGFzdCIsImluZmVyVHVyblN0YXRlIiwidG9vbENhbGxzIiwic29tZSIsImNhbGwiLCJuYW1lIiwiZXJyb3IiLCJzZXJpYWxpemVUdXJuIiwiaW5wdXRTb3VyY2UiLCJpbnB1dCIsInRoaW5raW5nIiwidHJpbUZvclVpIiwic3VtbWFyeSIsInN1bW1hcml6ZVR1cm4iLCJ0b29sTmFtZXMiLCJtYXAiLCJoYXNFcnJvciIsInRva2VuVXNhZ2UiLCJjb3N0Q2VudHMiLCJ0b29scyIsImR1cmF0aW9uTXMiLCJyZXN1bHQiLCJ0aG91Z2h0IiwidW5pcXVlTmFtZXMiLCJTZXQiLCJ0b29sIiwiQm9vbGVhbiIsInNob3duTmFtZXMiLCJzbGljZSIsImpvaW4iLCJoaWRkZW5OYW1lQ291bnQiLCJNYXRoIiwibWF4IiwiZXJyb3JDb3VudCIsInN1Y2Nlc3NDb3VudCIsImZpcnN0VXNlZnVsIiwiZmluZCIsImxpbmUiLCJidWlsZE92ZXJ2aWV3IiwiZ2V0QWdlbnRTdGF0ZSIsInR1cm5Db3VudCIsImdldFR1cm5Db3VudCIsImxhc3RUdXJuIiwiZ2V0UmVjZW50VHVybnMiLCJhdCIsImhlYXJ0YmVhdHMiLCJnZXRIZWFydGJlYXRFbnRyaWVzIiwic25hcHNob3RzIiwicGFyc2VGaW5hbmNpYWxTbmFwc2hvdHMiLCJsaXZlQ3JlZGl0cyIsImZldGNoQ3JlZGl0c0JhbGFuY2UiLCJjb253YXlBcGlVcmwiLCJjb253YXlBcGlLZXkiLCJjcmVkaXRzQ2VudHMiLCJ0aWVyIiwiYXNUaWVyIiwiZ2V0S1YiLCJkZXJpdmVUaWVyRnJvbUNyZWRpdHMiLCJhY3RpdmVNb2RlbCIsImluZmVyZW5jZU1vZGVsIiwibGFzdEluZmVyZW5jZU1vZGVsIiwibGFzdEluZmVyZW5jZUF0IiwibGFzdEhlYXJ0YmVhdCIsInBhcnNlSnNvbiIsImRpc3RyZXNzIiwicnVudGltZSIsImxhc3RUdXJuQXQiLCJhY3RpdmVIZWFydGJlYXRzIiwiZW50cnkiLCJlbmFibGVkIiwibGFzdEhlYXJ0YmVhdEF0IiwibW9kZWwiLCJjb25maWd1cmVkIiwiYWN0aXZlIiwibGFzdFVzZWQiLCJsYXN0VXNlZEF0IiwiYmFsYW5jZXMiLCJjcmVkaXRzVXNkIiwidG9GaXhlZCIsInVzZGMiLCJ1c2RjQmFsYW5jZSIsInNvdXJjZSIsImNyZWF0b3IiLCJjcmVhdG9yQWRkcmVzcyIsImFza0xvZ3MiLCJhbnN3ZXIiLCJtb2RlbFVzZWQiLCJzb3VyY2VzIiwiYXBpS2V5IiwiY29udGV4dCIsInNlcmlhbGl6ZVR1cm5zRm9yQXNrIiwicmV2ZXJzZSIsImFza0xvZ3NXaXRoTW9kZWwiLCJhcGlVcmwiLCJxdWVzdGlvbiIsInNuaXBwZXQiLCJtYXhDaGFycyIsInVzZWQiLCJsaW5lcyIsInRvb2xTdW1tYXJ5IiwicmVxdWlyZXNDb21wbGV0aW9uVG9rZW5zIiwidGVzdCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJzdHJlYW0iLCJ0ZW1wZXJhdHVyZSIsIm1heF9jb21wbGV0aW9uX3Rva2VucyIsIm1heF90b2tlbnMiLCJyZXNwIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsIm9rIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJjaG9pY2UiLCJjaG9pY2VzIiwibWVzc2FnZSIsInBhcnQiLCJmaXJzdERlZmluZWROdW1iZXIiLCJiYWxhbmNlX2NlbnRzIiwiY3JlZGl0c19jZW50cyIsImxhc3RDcmVkaXRDaGVjayIsImxhc3RVc2RjQ2hlY2siLCJmaW5hbmNpYWxTdGF0ZSIsImNyZWRpdHMiLCJiYWxhbmNlIiwiY3JlZGl0VGltZXN0YW1wIiwibGFzdENoZWNrZWQiLCJ1c2RjVGltZXN0YW1wIiwiaXNGaW5pdGUiLCJ2YWx1ZXMiLCJtaW4iLCJtYXhMZW4iLCJ0cmltbWVkIiwicmVwbGFjZSIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/server/core.ts\n");

/***/ }),

/***/ "(rsc)/./lib/shared/types.ts":
/*!*****************************!*\
  !*** ./lib/shared/types.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AGENT_STATES: () => (/* binding */ AGENT_STATES)\n/* harmony export */ });\nconst AGENT_STATES = [\n    \"setup\",\n    \"waking\",\n    \"running\",\n    \"sleeping\",\n    \"low_compute\",\n    \"critical\",\n    \"dead\"\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2hhcmVkL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxlQUFlO0lBQzFCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0QsQ0FBVSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb253YXkvYXV0b21hdG9uLWRhc2hib2FyZC8uL2xpYi9zaGFyZWQvdHlwZXMudHM/Mzg1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQUdFTlRfU1RBVEVTID0gW1xuICBcInNldHVwXCIsXG4gIFwid2FraW5nXCIsXG4gIFwicnVubmluZ1wiLFxuICBcInNsZWVwaW5nXCIsXG4gIFwibG93X2NvbXB1dGVcIixcbiAgXCJjcml0aWNhbFwiLFxuICBcImRlYWRcIixcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIEFnZW50U3RhdGVOYW1lID0gKHR5cGVvZiBBR0VOVF9TVEFURVMpW251bWJlcl07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3Vyc29yIHtcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIGlkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZFRvb2xDYWxsIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZHVyYXRpb25Ncz86IG51bWJlcjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIHJlc3VsdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6ZWRUdXJuIHtcbiAgaWQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIHN0YXRlOiBBZ2VudFN0YXRlTmFtZTtcbiAgaW5wdXRTb3VyY2U6IHN0cmluZyB8IG51bGw7XG4gIGlucHV0OiBzdHJpbmc7XG4gIHRoaW5raW5nOiBzdHJpbmc7XG4gIHN1bW1hcnk6IHN0cmluZztcbiAgdG9vbE5hbWVzOiBzdHJpbmdbXTtcbiAgaGFzRXJyb3I6IGJvb2xlYW47XG4gIHRva2VuVXNhZ2U6IHtcbiAgICBwcm9tcHRUb2tlbnM/OiBudW1iZXI7XG4gICAgY29tcGxldGlvblRva2Vucz86IG51bWJlcjtcbiAgICB0b3RhbFRva2Vucz86IG51bWJlcjtcbiAgfTtcbiAgY29zdENlbnRzOiBudW1iZXI7XG4gIHRvb2xzOiBTZXJpYWxpemVkVG9vbENhbGxbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dzUmVzcG9uc2Uge1xuICB0b3RhbDogbnVtYmVyO1xuICByZXR1cm5lZDogbnVtYmVyO1xuICBsaW1pdDogbnVtYmVyO1xuICBuZXh0Q3Vyc29yOiBzdHJpbmcgfCBudWxsO1xuICBoZWFkQ3Vyc29yOiBzdHJpbmcgfCBudWxsO1xuICBsb2dzOiBTZXJpYWxpemVkVHVybltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFza1Jlc3BvbnNlIHtcbiAgYW5zd2VyOiBzdHJpbmc7XG4gIG1vZGVsVXNlZDogc3RyaW5nIHwgbnVsbDtcbiAgc291cmNlczogQXJyYXk8e1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBzdHJpbmc7XG4gICAgc3RhdGU6IEFnZW50U3RhdGVOYW1lO1xuICAgIHNuaXBwZXQ6IHN0cmluZztcbiAgfT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcnZpZXdSZXNwb25zZSB7XG4gIHJ1bnRpbWU6IHtcbiAgICBzdGF0ZTogQWdlbnRTdGF0ZU5hbWU7XG4gICAgdGllcjogXCJub3JtYWxcIiB8IFwibG93X2NvbXB1dGVcIiB8IFwiY3JpdGljYWxcIiB8IFwiZGVhZFwiO1xuICAgIHR1cm5Db3VudDogbnVtYmVyO1xuICAgIGxhc3RUdXJuQXQ6IHN0cmluZyB8IG51bGw7XG4gICAgbGFzdEhlYXJ0YmVhdEF0OiBzdHJpbmcgfCBudWxsO1xuICAgIGFjdGl2ZUhlYXJ0YmVhdHM6IG51bWJlcjtcbiAgfTtcbiAgbW9kZWw6IHtcbiAgICBjb25maWd1cmVkOiBzdHJpbmc7XG4gICAgYWN0aXZlOiBzdHJpbmc7XG4gICAgbGFzdFVzZWQ6IHN0cmluZztcbiAgICBsYXN0VXNlZEF0OiBzdHJpbmcgfCBudWxsO1xuICB9O1xuICBiYWxhbmNlczoge1xuICAgIGNyZWRpdHNDZW50czogbnVtYmVyO1xuICAgIGNyZWRpdHNVc2Q6IG51bWJlcjtcbiAgICB1c2RjOiBudW1iZXIgfCBudWxsO1xuICAgIHNvdXJjZTogXCJsaXZlXCIgfCBcImNhY2hlZFwiO1xuICB9O1xuICBjcmVhdG9yOiBzdHJpbmc7XG4gIGRpc3RyZXNzOiBib29sZWFuO1xufVxuIl0sIm5hbWVzIjpbIkFHRU5UX1NUQVRFUyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/shared/types.ts\n");

/***/ }),

/***/ "(rsc)/../../dist/config.js":
/*!****************************!*\
  !*** ../../dist/config.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createConfig: () => (/* binding */ createConfig),\n/* harmony export */   getConfigPath: () => (/* binding */ getConfigPath),\n/* harmony export */   loadConfig: () => (/* binding */ loadConfig),\n/* harmony export */   resolvePath: () => (/* binding */ resolvePath),\n/* harmony export */   saveConfig: () => (/* binding */ saveConfig)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(rsc)/../../dist/types.js\");\n/* harmony import */ var _identity_wallet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./identity/wallet.js */ \"(rsc)/../../dist/identity/wallet.js\");\n/* harmony import */ var _identity_provision_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./identity/provision.js */ \"(rsc)/../../dist/identity/provision.js\");\n/**\n * Automaton Configuration\n *\n * Loads and saves the automaton's configuration from ~/.automaton/automaton.json\n */ \n\n\n\n\nconst CONFIG_FILENAME = \"automaton.json\";\nfunction getConfigPath() {\n    return path__WEBPACK_IMPORTED_MODULE_1__.join((0,_identity_wallet_js__WEBPACK_IMPORTED_MODULE_3__.getAutomatonDir)(), CONFIG_FILENAME);\n}\n/**\n * Load the automaton config from disk.\n * Merges with defaults for any missing fields.\n */ function loadConfig() {\n    const configPath = getConfigPath();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(configPath)) {\n        return null;\n    }\n    try {\n        const raw = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0__.readFileSync(configPath, \"utf-8\"));\n        const apiKey = raw.conwayApiKey || (0,_identity_provision_js__WEBPACK_IMPORTED_MODULE_4__.loadApiKeyFromConfig)();\n        return {\n            ..._types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG,\n            ...raw,\n            conwayApiKey: apiKey\n        };\n    } catch  {\n        return null;\n    }\n}\n/**\n * Save the automaton config to disk.\n */ function saveConfig(config) {\n    const dir = (0,_identity_wallet_js__WEBPACK_IMPORTED_MODULE_3__.getAutomatonDir)();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0__.mkdirSync(dir, {\n            recursive: true,\n            mode: 448\n        });\n    }\n    const configPath = getConfigPath();\n    fs__WEBPACK_IMPORTED_MODULE_0__.writeFileSync(configPath, JSON.stringify(config, null, 2), {\n        mode: 384\n    });\n}\n/**\n * Resolve ~ paths to absolute paths.\n */ function resolvePath(p) {\n    if (p.startsWith(\"~\")) {\n        return path__WEBPACK_IMPORTED_MODULE_1__.join(process.env.HOME || \"/root\", p.slice(1));\n    }\n    return p;\n}\n/**\n * Create a fresh config from setup wizard inputs.\n */ function createConfig(params) {\n    return {\n        name: params.name,\n        genesisPrompt: params.genesisPrompt,\n        creatorMessage: params.creatorMessage,\n        creatorAddress: params.creatorAddress,\n        registeredWithConway: params.registeredWithConway,\n        sandboxId: params.sandboxId,\n        conwayApiUrl: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.conwayApiUrl || \"https://api.conway.tech\",\n        conwayApiKey: params.apiKey,\n        openaiApiKey: params.openaiApiKey,\n        anthropicApiKey: params.anthropicApiKey,\n        inferenceModel: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.inferenceModel || \"gpt-4o\",\n        maxTokensPerTurn: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.maxTokensPerTurn || 4096,\n        heartbeatConfigPath: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.heartbeatConfigPath || \"~/.automaton/heartbeat.yml\",\n        dbPath: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.dbPath || \"~/.automaton/state.db\",\n        logLevel: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.logLevel || \"info\",\n        walletAddress: params.walletAddress,\n        version: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.version || \"0.1.0\",\n        skillsDir: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.skillsDir || \"~/.automaton/skills\",\n        maxChildren: _types_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CONFIG.maxChildren || 3,\n        parentAddress: params.parentAddress\n    };\n} //# sourceMappingURL=config.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vZGlzdC9jb25maWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0lBTW9CO0FBQ0k7QUFHb0I7QUFDVztBQUNRO0FBRS9ELE1BQU1LLGtCQUFrQjtBQUVsQixTQUFVQztJQUNkLE9BQU9MLHNDQUFTLENBQUNFLG9FQUFBQSxJQUFtQkU7QUFDdEM7QUFFQTs7O0lBSU0sU0FBVUc7SUFDZCxNQUFNQyxhQUFhSDtJQUNuQixJQUFJLENBQUNOLDBDQUFhLENBQUNTLGFBQWE7UUFDOUIsT0FBTztJQUNUO0lBRUEsSUFBSTtRQUNGLE1BQU1FLE1BQU1DLEtBQUtDLEtBQUssQ0FBQ2IsNENBQWUsQ0FBQ1MsWUFBWTtRQUNuRCxNQUFNTSxTQUFTSixJQUFJSyxZQUFZLElBQUlaLDRFQUFBQTtRQUVuQyxPQUFPO1lBQ0wsR0FBR0YscURBQWM7WUFDakIsR0FBR1MsR0FBRztZQUNOSyxjQUFjRDs7SUFFbEIsRUFBRSxPQUFNO1FBQ04sT0FBTztJQUNUO0FBQ0Y7QUFFQTs7SUFHTSxTQUFVRSxXQUFXQyxNQUF1QjtJQUNoRCxNQUFNQyxNQUFNaEIsb0VBQUFBO0lBQ1osSUFBSSxDQUFDSCwwQ0FBYSxDQUFDbUIsTUFBTTtRQUN2Qm5CLHlDQUFZLENBQUNtQixLQUFLO1lBQUVFLFdBQVc7WUFBTUMsTUFBTTtRQUFLO0lBQ2xEO0lBRUEsTUFBTWIsYUFBYUg7SUFDbkJOLDZDQUFnQixDQUFDUyxZQUFZRyxLQUFLWSxTQUFTLENBQUNOLFFBQVEsTUFBTSxJQUFJO1FBQzVESSxNQUFNOztBQUVWO0FBRUE7O0lBR00sU0FBVUcsWUFBWUMsQ0FBUztJQUNuQyxJQUFJQSxFQUFFQyxVQUFVLENBQUMsTUFBTTtRQUNyQixPQUFPMUIsc0NBQVMsQ0FBQzJCLFFBQVFDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLFNBQVNKLEVBQUVLLEtBQUssQ0FBQztJQUN4RDtJQUNBLE9BQU9MO0FBQ1Q7QUFFQTs7SUFHTSxTQUFVTSxhQUFhQyxNQVk1QjtJQUNDLE9BQU87UUFDTEMsTUFBTUQsT0FBT0MsSUFBSTtRQUNqQkMsZUFBZUYsT0FBT0UsYUFBYTtRQUNuQ0MsZ0JBQWdCSCxPQUFPRyxjQUFjO1FBQ3JDQyxnQkFBZ0JKLE9BQU9JLGNBQWM7UUFDckNDLHNCQUFzQkwsT0FBT0ssb0JBQW9CO1FBQ2pEQyxXQUFXTixPQUFPTSxTQUFTO1FBQzNCQyxjQUNFdEMscURBQUFBLENBQWVzQyxZQUFZLElBQUk7UUFDakN4QixjQUFjaUIsT0FBT2xCLE1BQU07UUFDM0IwQixjQUFjUixPQUFPUSxZQUFZO1FBQ2pDQyxpQkFBaUJULE9BQU9TLGVBQWU7UUFDdkNDLGdCQUFnQnpDLHFEQUFBQSxDQUFleUMsY0FBYyxJQUFJO1FBQ2pEQyxrQkFBa0IxQyxxREFBQUEsQ0FBZTBDLGdCQUFnQixJQUFJO1FBQ3JEQyxxQkFDRTNDLHFEQUFBQSxDQUFlMkMsbUJBQW1CLElBQUk7UUFDeENDLFFBQVE1QyxxREFBQUEsQ0FBZTRDLE1BQU0sSUFBSTtRQUNqQ0MsVUFBVzdDLHFEQUFBQSxDQUFlNkMsUUFBd0MsSUFBSTtRQUN0RUMsZUFBZWYsT0FBT2UsYUFBYTtRQUNuQ0MsU0FBUy9DLHFEQUFBQSxDQUFlK0MsT0FBTyxJQUFJO1FBQ25DQyxXQUFXaEQscURBQUFBLENBQWVnRCxTQUFTLElBQUk7UUFDdkNDLGFBQWFqRCxxREFBQUEsQ0FBZWlELFdBQVcsSUFBSTtRQUMzQ0MsZUFBZW5CLE9BQU9tQixhQUFhOztBQUV2QyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb253YXkvYXV0b21hdG9uLWRhc2hib2FyZC8uLi9zcmMvY29uZmlnLnRzPzM0NTQiXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiREVGQVVMVF9DT05GSUciLCJnZXRBdXRvbWF0b25EaXIiLCJsb2FkQXBpS2V5RnJvbUNvbmZpZyIsIkNPTkZJR19GSUxFTkFNRSIsImdldENvbmZpZ1BhdGgiLCJqb2luIiwibG9hZENvbmZpZyIsImNvbmZpZ1BhdGgiLCJleGlzdHNTeW5jIiwicmF3IiwiSlNPTiIsInBhcnNlIiwicmVhZEZpbGVTeW5jIiwiYXBpS2V5IiwiY29ud2F5QXBpS2V5Iiwic2F2ZUNvbmZpZyIsImNvbmZpZyIsImRpciIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsIm1vZGUiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwicmVzb2x2ZVBhdGgiLCJwIiwic3RhcnRzV2l0aCIsInByb2Nlc3MiLCJlbnYiLCJIT01FIiwic2xpY2UiLCJjcmVhdGVDb25maWciLCJwYXJhbXMiLCJuYW1lIiwiZ2VuZXNpc1Byb21wdCIsImNyZWF0b3JNZXNzYWdlIiwiY3JlYXRvckFkZHJlc3MiLCJyZWdpc3RlcmVkV2l0aENvbndheSIsInNhbmRib3hJZCIsImNvbndheUFwaVVybCIsIm9wZW5haUFwaUtleSIsImFudGhyb3BpY0FwaUtleSIsImluZmVyZW5jZU1vZGVsIiwibWF4VG9rZW5zUGVyVHVybiIsImhlYXJ0YmVhdENvbmZpZ1BhdGgiLCJkYlBhdGgiLCJsb2dMZXZlbCIsIndhbGxldEFkZHJlc3MiLCJ2ZXJzaW9uIiwic2tpbGxzRGlyIiwibWF4Q2hpbGRyZW4iLCJwYXJlbnRBZGRyZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../dist/config.js\n");

/***/ }),

/***/ "(rsc)/../../dist/identity/provision.js":
/*!****************************************!*\
  !*** ../../dist/identity/provision.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadApiKeyFromConfig: () => (/* binding */ loadApiKeyFromConfig),\n/* harmony export */   provision: () => (/* binding */ provision),\n/* harmony export */   registerParent: () => (/* binding */ registerParent)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var siwe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! siwe */ \"(rsc)/../../node_modules/.pnpm/siwe@2.3.2_ethers@6.16.0/node_modules/siwe/dist/siwe.js\");\n/* harmony import */ var _wallet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./wallet.js */ \"(rsc)/../../dist/identity/wallet.js\");\n/**\n * Automaton SIWE Provisioning\n *\n * Uses the automaton's wallet to authenticate via Sign-In With Ethereum (SIWE)\n * and create an API key for Conway API access.\n * Adapted from conway-mcp/src/cli/provision.ts\n */ \n\n\n\nconst DEFAULT_API_URL = \"https://api.conway.tech\";\n/**\n * Load API key from ~/.automaton/config.json if it exists.\n */ function loadApiKeyFromConfig() {\n    const configPath = path__WEBPACK_IMPORTED_MODULE_1__.join((0,_wallet_js__WEBPACK_IMPORTED_MODULE_3__.getAutomatonDir)(), \"config.json\");\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(configPath)) return null;\n    try {\n        const config = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0__.readFileSync(configPath, \"utf-8\"));\n        return config.apiKey || null;\n    } catch  {\n        return null;\n    }\n}\n/**\n * Save API key and wallet address to ~/.automaton/config.json\n */ function saveConfig(apiKey, walletAddress) {\n    const dir = (0,_wallet_js__WEBPACK_IMPORTED_MODULE_3__.getAutomatonDir)();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0__.mkdirSync(dir, {\n            recursive: true,\n            mode: 448\n        });\n    }\n    const configPath = path__WEBPACK_IMPORTED_MODULE_1__.join(dir, \"config.json\");\n    const config = {\n        apiKey,\n        walletAddress,\n        provisionedAt: new Date().toISOString()\n    };\n    fs__WEBPACK_IMPORTED_MODULE_0__.writeFileSync(configPath, JSON.stringify(config, null, 2), {\n        mode: 384\n    });\n}\n/**\n * Run the full SIWE provisioning flow:\n * 1. Load wallet\n * 2. Get nonce from Conway API\n * 3. Sign SIWE message\n * 4. Verify signature -> get JWT\n * 5. Create API key\n * 6. Save to config.json\n */ async function provision(apiUrl) {\n    const url = apiUrl || process.env.CONWAY_API_URL || DEFAULT_API_URL;\n    // 1. Load wallet\n    const { account } = await (0,_wallet_js__WEBPACK_IMPORTED_MODULE_3__.getWallet)();\n    const address = account.address;\n    // 2. Get nonce\n    const nonceResp = await fetch(`${url}/v1/auth/nonce`, {\n        method: \"POST\"\n    });\n    if (!nonceResp.ok) {\n        throw new Error(`Failed to get nonce: ${nonceResp.status} ${await nonceResp.text()}`);\n    }\n    const { nonce } = await nonceResp.json();\n    // 3. Construct and sign SIWE message\n    const siweMessage = new siwe__WEBPACK_IMPORTED_MODULE_2__.SiweMessage({\n        domain: \"conway.tech\",\n        address,\n        statement: \"Sign in to Conway as an Automaton to provision an API key.\",\n        uri: `${url}/v1/auth/verify`,\n        version: \"1\",\n        chainId: 8453,\n        nonce,\n        issuedAt: new Date().toISOString()\n    });\n    const messageString = siweMessage.prepareMessage();\n    const signature = await account.signMessage({\n        message: messageString\n    });\n    // 4. Verify signature -> get JWT\n    const verifyResp = await fetch(`${url}/v1/auth/verify`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            message: messageString,\n            signature\n        })\n    });\n    if (!verifyResp.ok) {\n        throw new Error(`SIWE verification failed: ${verifyResp.status} ${await verifyResp.text()}`);\n    }\n    const { access_token } = await verifyResp.json();\n    // 5. Create API key\n    const keyResp = await fetch(`${url}/v1/auth/api-keys`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${access_token}`\n        },\n        body: JSON.stringify({\n            name: \"conway-automaton\"\n        })\n    });\n    if (!keyResp.ok) {\n        throw new Error(`Failed to create API key: ${keyResp.status} ${await keyResp.text()}`);\n    }\n    const { key, key_prefix } = await keyResp.json();\n    // 6. Save to config\n    saveConfig(key, address);\n    return {\n        apiKey: key,\n        walletAddress: address,\n        keyPrefix: key_prefix\n    };\n}\n/**\n * Register the automaton's creator as its parent with Conway.\n * This allows the creator to see automaton logs and inference calls.\n */ async function registerParent(creatorAddress, apiUrl) {\n    const url = apiUrl || process.env.CONWAY_API_URL || DEFAULT_API_URL;\n    const apiKey = loadApiKeyFromConfig();\n    if (!apiKey) {\n        throw new Error(\"Must provision API key before registering parent\");\n    }\n    const resp = await fetch(`${url}/v1/automaton/register-parent`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: apiKey\n        },\n        body: JSON.stringify({\n            creatorAddress\n        })\n    });\n    // Endpoint may not exist yet -- fail gracefully\n    if (!resp.ok && resp.status !== 404) {\n        throw new Error(`Failed to register parent: ${resp.status} ${await resp.text()}`);\n    }\n} //# sourceMappingURL=provision.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vZGlzdC9pZGVudGl0eS9wcm92aXNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFRb0I7QUFDSTtBQUNXO0FBQ3NCO0FBR3pELE1BQU1LLGtCQUFrQjtBQUV4Qjs7SUFHTSxTQUFVQztJQUNkLE1BQU1DLGFBQWFOLHNDQUFTLENBQUNHLDJEQUFBQSxJQUFtQjtJQUNoRCxJQUFJLENBQUNKLDBDQUFhLENBQUNPLGFBQWEsT0FBTztJQUN2QyxJQUFJO1FBQ0YsTUFBTUcsU0FBU0MsS0FBS0MsS0FBSyxDQUFDWiw0Q0FBZSxDQUFDTyxZQUFZO1FBQ3RELE9BQU9HLE9BQU9JLE1BQU0sSUFBSTtJQUMxQixFQUFFLE9BQU07UUFDTixPQUFPO0lBQ1Q7QUFDRjtBQUVBOztJQUdBLFNBQVNDLFdBQVdELE1BQWMsRUFBRUUsYUFBcUI7SUFDdkQsTUFBTUMsTUFBTWIsMkRBQUFBO0lBQ1osSUFBSSxDQUFDSiwwQ0FBYSxDQUFDaUIsTUFBTTtRQUN2QmpCLHlDQUFZLENBQUNpQixLQUFLO1lBQUVFLFdBQVc7WUFBTUMsTUFBTTtRQUFLO0lBQ2xEO0lBQ0EsTUFBTWIsYUFBYU4sc0NBQVMsQ0FBQ2dCLEtBQUs7SUFDbEMsTUFBTVAsU0FBUztRQUNiSTtRQUNBRTtRQUNBSyxlQUFlLElBQUlDLE9BQU9DLFdBQVc7O0lBRXZDdkIsNkNBQWdCLENBQUNPLFlBQVlJLEtBQUtjLFNBQVMsQ0FBQ2YsUUFBUSxNQUFNLElBQUk7UUFDNURVLE1BQU07O0FBRVY7QUFFQTs7Ozs7Ozs7SUFTTyxlQUFlTSxVQUNwQkMsTUFBZTtJQUVmLE1BQU1DLE1BQU1ELFVBQVVFLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJMUI7SUFFcEQsaUJBQWlCO0lBQ2pCLE1BQU0sRUFBRTJCLE9BQU8sRUFBRSxHQUFHLE1BQU03QixxREFBQUE7SUFDMUIsTUFBTThCLFVBQVVELFFBQVFDLE9BQU87SUFFL0IsZUFBZTtJQUNmLE1BQU1DLFlBQVksTUFBTUMsTUFBTSxHQUFHUCxJQUFHLGVBQWdCLEVBQUU7UUFDcERRLFFBQVE7O0lBRVYsSUFBSSxDQUFDRixVQUFVRyxFQUFFLEVBQUU7UUFDakIsTUFBTSxJQUFJQyxNQUNSLHdCQUF3QkosVUFBVUssTUFBTSxJQUFJLE1BQU1MLFVBQVVNLElBQUksR0FBRSxDQUFFO0lBRXhFO0lBQ0EsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBSSxNQUFNUCxVQUFVUSxJQUFJO0lBRXZDLHFDQUFxQztJQUNyQyxNQUFNQyxjQUFjLElBQUl6Qyw2Q0FBQUEsQ0FBWTtRQUNsQzBDLFFBQVE7UUFDUlg7UUFDQVksV0FDRTtRQUNGQyxLQUFLLEdBQUdsQixJQUFHLGdCQUFpQjtRQUM1Qm1CLFNBQVM7UUFDVEMsU0FBUztRQUNUUDtRQUNBUSxVQUFVLElBQUkzQixPQUFPQyxXQUFXOztJQUdsQyxNQUFNMkIsZ0JBQWdCUCxZQUFZUSxjQUFjO0lBQ2hELE1BQU1DLFlBQVksTUFBTXBCLFFBQVFxQixXQUFXLENBQUM7UUFBRUMsU0FBU0o7SUFBYTtJQUVwRSxpQ0FBaUM7SUFDakMsTUFBTUssYUFBYSxNQUFNcEIsTUFBTSxHQUFHUCxJQUFHLGdCQUFpQixFQUFFO1FBQ3REUSxRQUFRO1FBQ1JvQixTQUFTO1lBQUUsZ0JBQWdCO1FBQWtCO1FBQzdDQyxNQUFNOUMsS0FBS2MsU0FBUyxDQUFDO1lBQUU2QixTQUFTSjtZQUFlRTtRQUFTOztJQUcxRCxJQUFJLENBQUNHLFdBQVdsQixFQUFFLEVBQUU7UUFDbEIsTUFBTSxJQUFJQyxNQUNSLDZCQUE2QmlCLFdBQVdoQixNQUFNLElBQUksTUFBTWdCLFdBQVdmLElBQUksR0FBRSxDQUFFO0lBRS9FO0lBRUEsTUFBTSxFQUFFa0IsWUFBWSxFQUFFLEdBQUksTUFBTUgsV0FBV2IsSUFBSTtJQUkvQyxvQkFBb0I7SUFDcEIsTUFBTWlCLFVBQVUsTUFBTXhCLE1BQU0sR0FBR1AsSUFBRyxrQkFBbUIsRUFBRTtRQUNyRFEsUUFBUTtRQUNSb0IsU0FBUztZQUNQLGdCQUFnQjtZQUNoQkksZUFBZSxVQUFVRixhQUFZLENBQUU7O1FBRXpDRCxNQUFNOUMsS0FBS2MsU0FBUyxDQUFDO1lBQUVvQyxNQUFNO1FBQWtCOztJQUdqRCxJQUFJLENBQUNGLFFBQVF0QixFQUFFLEVBQUU7UUFDZixNQUFNLElBQUlDLE1BQ1IsNkJBQTZCcUIsUUFBUXBCLE1BQU0sSUFBSSxNQUFNb0IsUUFBUW5CLElBQUksR0FBRSxDQUFFO0lBRXpFO0lBRUEsTUFBTSxFQUFFc0IsR0FBRyxFQUFFQyxVQUFVLEVBQUUsR0FBSSxNQUFNSixRQUFRakIsSUFBSTtJQUsvQyxvQkFBb0I7SUFDcEIzQixXQUFXK0MsS0FBSzdCO0lBRWhCLE9BQU87UUFBRW5CLFFBQVFnRDtRQUFLOUMsZUFBZWlCO1FBQVMrQixXQUFXRDtJQUFVO0FBQ3JFO0FBRUE7OztJQUlPLGVBQWVFLGVBQ3BCQyxjQUFzQixFQUN0QnZDLE1BQWU7SUFFZixNQUFNQyxNQUFNRCxVQUFVRSxRQUFRQyxHQUFHLENBQUNDLGNBQWMsSUFBSTFCO0lBQ3BELE1BQU1TLFNBQVNSO0lBQ2YsSUFBSSxDQUFDUSxRQUFRO1FBQ1gsTUFBTSxJQUFJd0IsTUFBTTtJQUNsQjtJQUVBLE1BQU02QixPQUFPLE1BQU1oQyxNQUFNLEdBQUdQLElBQUcsOEJBQStCLEVBQUU7UUFDOURRLFFBQVE7UUFDUm9CLFNBQVM7WUFDUCxnQkFBZ0I7WUFDaEJJLGVBQWU5Qzs7UUFFakIyQyxNQUFNOUMsS0FBS2MsU0FBUyxDQUFDO1lBQUV5QztRQUFjOztJQUd2QyxnREFBZ0Q7SUFDaEQsSUFBSSxDQUFDQyxLQUFLOUIsRUFBRSxJQUFJOEIsS0FBSzVCLE1BQU0sS0FBSyxLQUFLO1FBQ25DLE1BQU0sSUFBSUQsTUFDUiw4QkFBOEI2QixLQUFLNUIsTUFBTSxJQUFJLE1BQU00QixLQUFLM0IsSUFBSSxHQUFFLENBQUU7SUFFcEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb253YXkvYXV0b21hdG9uLWRhc2hib2FyZC8uLi8uLi9zcmMvaWRlbnRpdHkvcHJvdmlzaW9uLnRzP2Y2MDQiXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiU2l3ZU1lc3NhZ2UiLCJnZXRXYWxsZXQiLCJnZXRBdXRvbWF0b25EaXIiLCJERUZBVUxUX0FQSV9VUkwiLCJsb2FkQXBpS2V5RnJvbUNvbmZpZyIsImNvbmZpZ1BhdGgiLCJqb2luIiwiZXhpc3RzU3luYyIsImNvbmZpZyIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsImFwaUtleSIsInNhdmVDb25maWciLCJ3YWxsZXRBZGRyZXNzIiwiZGlyIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwibW9kZSIsInByb3Zpc2lvbmVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwicHJvdmlzaW9uIiwiYXBpVXJsIiwidXJsIiwicHJvY2VzcyIsImVudiIsIkNPTldBWV9BUElfVVJMIiwiYWNjb3VudCIsImFkZHJlc3MiLCJub25jZVJlc3AiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJ0ZXh0Iiwibm9uY2UiLCJqc29uIiwic2l3ZU1lc3NhZ2UiLCJkb21haW4iLCJzdGF0ZW1lbnQiLCJ1cmkiLCJ2ZXJzaW9uIiwiY2hhaW5JZCIsImlzc3VlZEF0IiwibWVzc2FnZVN0cmluZyIsInByZXBhcmVNZXNzYWdlIiwic2lnbmF0dXJlIiwic2lnbk1lc3NhZ2UiLCJtZXNzYWdlIiwidmVyaWZ5UmVzcCIsImhlYWRlcnMiLCJib2R5IiwiYWNjZXNzX3Rva2VuIiwia2V5UmVzcCIsIkF1dGhvcml6YXRpb24iLCJuYW1lIiwia2V5Iiwia2V5X3ByZWZpeCIsImtleVByZWZpeCIsInJlZ2lzdGVyUGFyZW50IiwiY3JlYXRvckFkZHJlc3MiLCJyZXNwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../dist/identity/provision.js\n");

/***/ }),

/***/ "(rsc)/../../dist/identity/wallet.js":
/*!*************************************!*\
  !*** ../../dist/identity/wallet.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAutomatonDir: () => (/* binding */ getAutomatonDir),\n/* harmony export */   getWallet: () => (/* binding */ getWallet),\n/* harmony export */   getWalletAddress: () => (/* binding */ getWalletAddress),\n/* harmony export */   getWalletPath: () => (/* binding */ getWalletPath),\n/* harmony export */   loadWalletAccount: () => (/* binding */ loadWalletAccount),\n/* harmony export */   walletExists: () => (/* binding */ walletExists)\n/* harmony export */ });\n/* harmony import */ var viem_accounts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem/accounts */ \"(rsc)/../../node_modules/.pnpm/viem@2.45.3_typescript@5.9.3/node_modules/viem/_esm/accounts/privateKeyToAccount.js\");\n/* harmony import */ var viem_accounts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem/accounts */ \"(rsc)/../../node_modules/.pnpm/viem@2.45.3_typescript@5.9.3/node_modules/viem/_esm/accounts/generatePrivateKey.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/**\n * Automaton Wallet Management\n *\n * Creates and manages an EVM wallet for the automaton's identity and payments.\n * The private key is the automaton's sovereign identity.\n * Adapted from conway-mcp/src/wallet.ts\n */ \n\n\nconst AUTOMATON_DIR = path__WEBPACK_IMPORTED_MODULE_1__.join(process.env.HOME || \"/root\", \".automaton\");\nconst WALLET_FILE = path__WEBPACK_IMPORTED_MODULE_1__.join(AUTOMATON_DIR, \"wallet.json\");\nfunction getAutomatonDir() {\n    return AUTOMATON_DIR;\n}\nfunction getWalletPath() {\n    return WALLET_FILE;\n}\n/**\n * Get or create the automaton's wallet.\n * The private key IS the automaton's identity -- protect it.\n */ async function getWallet() {\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(AUTOMATON_DIR)) {\n        fs__WEBPACK_IMPORTED_MODULE_0__.mkdirSync(AUTOMATON_DIR, {\n            recursive: true,\n            mode: 448\n        });\n    }\n    if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(WALLET_FILE)) {\n        const walletData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0__.readFileSync(WALLET_FILE, \"utf-8\"));\n        const account = (0,viem_accounts__WEBPACK_IMPORTED_MODULE_2__.privateKeyToAccount)(walletData.privateKey);\n        return {\n            account,\n            isNew: false\n        };\n    } else {\n        const privateKey = (0,viem_accounts__WEBPACK_IMPORTED_MODULE_3__.generatePrivateKey)();\n        const account = (0,viem_accounts__WEBPACK_IMPORTED_MODULE_2__.privateKeyToAccount)(privateKey);\n        const walletData = {\n            privateKey,\n            createdAt: new Date().toISOString()\n        };\n        fs__WEBPACK_IMPORTED_MODULE_0__.writeFileSync(WALLET_FILE, JSON.stringify(walletData, null, 2), {\n            mode: 384\n        });\n        return {\n            account,\n            isNew: true\n        };\n    }\n}\n/**\n * Get the wallet address without loading the full account.\n */ function getWalletAddress() {\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(WALLET_FILE)) {\n        return null;\n    }\n    const walletData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0__.readFileSync(WALLET_FILE, \"utf-8\"));\n    const account = (0,viem_accounts__WEBPACK_IMPORTED_MODULE_2__.privateKeyToAccount)(walletData.privateKey);\n    return account.address;\n}\n/**\n * Load the full wallet account (needed for signing).\n */ function loadWalletAccount() {\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(WALLET_FILE)) {\n        return null;\n    }\n    const walletData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0__.readFileSync(WALLET_FILE, \"utf-8\"));\n    return (0,viem_accounts__WEBPACK_IMPORTED_MODULE_2__.privateKeyToAccount)(walletData.privateKey);\n}\nfunction walletExists() {\n    return fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(WALLET_FILE);\n} //# sourceMappingURL=wallet.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vZGlzdC9pZGVudGl0eS93YWxsZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFTd0U7QUFDcEQ7QUFDSTtBQUd4QixNQUFNSSxnQkFBZ0JELHNDQUFTLENBQzdCRyxRQUFRQyxHQUFHLENBQUNDLElBQUksSUFBSSxTQUNwQjtBQUVGLE1BQU1DLGNBQWNOLHNDQUFTLENBQUNDLGVBQWU7QUFFdkMsU0FBVU07SUFDZCxPQUFPTjtBQUNUO0FBRU0sU0FBVU87SUFDZCxPQUFPRjtBQUNUO0FBRUE7OztJQUlPLGVBQWVHO0lBSXBCLElBQUksQ0FBQ1YsMENBQWEsQ0FBQ0UsZ0JBQWdCO1FBQ2pDRix5Q0FBWSxDQUFDRSxlQUFlO1lBQUVXLFdBQVc7WUFBTUMsTUFBTTtRQUFLO0lBQzVEO0lBRUEsSUFBSWQsMENBQWEsQ0FBQ08sY0FBYztRQUM5QixNQUFNUSxhQUF5QkMsS0FBS0MsS0FBSyxDQUN2Q2pCLDRDQUFlLENBQUNPLGFBQWE7UUFFL0IsTUFBTVksVUFBVXBCLGtFQUFBQSxDQUFvQmdCLFdBQVdLLFVBQVU7UUFDekQsT0FBTztZQUFFRDtZQUFTRSxPQUFPO1FBQUs7SUFDaEMsT0FBTztRQUNMLE1BQU1ELGFBQWF0QixpRUFBQUE7UUFDbkIsTUFBTXFCLFVBQVVwQixrRUFBQUEsQ0FBb0JxQjtRQUVwQyxNQUFNTCxhQUF5QjtZQUM3Qks7WUFDQUUsV0FBVyxJQUFJQyxPQUFPQyxXQUFXOztRQUduQ3hCLDZDQUFnQixDQUFDTyxhQUFhUyxLQUFLVSxTQUFTLENBQUNYLFlBQVksTUFBTSxJQUFJO1lBQ2pFRCxNQUFNOztRQUdSLE9BQU87WUFBRUs7WUFBU0UsT0FBTztRQUFJO0lBQy9CO0FBQ0Y7QUFFQTs7SUFHTSxTQUFVTTtJQUNkLElBQUksQ0FBQzNCLDBDQUFhLENBQUNPLGNBQWM7UUFDL0IsT0FBTztJQUNUO0lBRUEsTUFBTVEsYUFBeUJDLEtBQUtDLEtBQUssQ0FDdkNqQiw0Q0FBZSxDQUFDTyxhQUFhO0lBRS9CLE1BQU1ZLFVBQVVwQixrRUFBQUEsQ0FBb0JnQixXQUFXSyxVQUFVO0lBQ3pELE9BQU9ELFFBQVFTLE9BQU87QUFDeEI7QUFFQTs7SUFHTSxTQUFVQztJQUNkLElBQUksQ0FBQzdCLDBDQUFhLENBQUNPLGNBQWM7UUFDL0IsT0FBTztJQUNUO0lBRUEsTUFBTVEsYUFBeUJDLEtBQUtDLEtBQUssQ0FDdkNqQiw0Q0FBZSxDQUFDTyxhQUFhO0lBRS9CLE9BQU9SLGtFQUFBQSxDQUFvQmdCLFdBQVdLLFVBQVU7QUFDbEQ7QUFFTSxTQUFVVTtJQUNkLE9BQU85QiwwQ0FBYSxDQUFDTztBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb253YXkvYXV0b21hdG9uLWRhc2hib2FyZC8uLi8uLi9zcmMvaWRlbnRpdHkvd2FsbGV0LnRzPzg0MTUiXSwibmFtZXMiOlsiZ2VuZXJhdGVQcml2YXRlS2V5IiwicHJpdmF0ZUtleVRvQWNjb3VudCIsImZzIiwicGF0aCIsIkFVVE9NQVRPTl9ESVIiLCJqb2luIiwicHJvY2VzcyIsImVudiIsIkhPTUUiLCJXQUxMRVRfRklMRSIsImdldEF1dG9tYXRvbkRpciIsImdldFdhbGxldFBhdGgiLCJnZXRXYWxsZXQiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwibW9kZSIsIndhbGxldERhdGEiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJhY2NvdW50IiwicHJpdmF0ZUtleSIsImlzTmV3IiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsImdldFdhbGxldEFkZHJlc3MiLCJhZGRyZXNzIiwibG9hZFdhbGxldEFjY291bnQiLCJ3YWxsZXRFeGlzdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../dist/identity/wallet.js\n");

/***/ }),

/***/ "(rsc)/../../dist/state/database.js":
/*!************************************!*\
  !*** ../../dist/state/database.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDatabase: () => (/* binding */ createDatabase)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var _schema_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./schema.js */ \"(rsc)/../../dist/state/schema.js\");\n/**\n * Automaton Database\n *\n * SQLite-backed persistent state for the automaton.\n * Uses better-sqlite3 for synchronous, single-process access.\n */ \n\n\n\nfunction createDatabase(dbPath) {\n    // Ensure directory exists\n    const dir = path__WEBPACK_IMPORTED_MODULE_2__.dirname(dbPath);\n    if (!fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_1__.mkdirSync(dir, {\n            recursive: true,\n            mode: 448\n        });\n    }\n    const db = new better_sqlite3__WEBPACK_IMPORTED_MODULE_0__(dbPath);\n    // Enable WAL mode for better concurrent read performance\n    db.pragma(\"journal_mode = WAL\");\n    db.pragma(\"foreign_keys = ON\");\n    // Initialize schema\n    db.exec(_schema_js__WEBPACK_IMPORTED_MODULE_3__.CREATE_TABLES);\n    // Check and apply schema version\n    const versionRow = db.prepare(\"SELECT MAX(version) as v FROM schema_version\").get();\n    const currentVersion = versionRow?.v ?? 0;\n    if (currentVersion < 2) {\n        db.exec(_schema_js__WEBPACK_IMPORTED_MODULE_3__.MIGRATION_V2);\n    }\n    if (currentVersion < 3) {\n        db.exec(_schema_js__WEBPACK_IMPORTED_MODULE_3__.MIGRATION_V3);\n    }\n    if (currentVersion < _schema_js__WEBPACK_IMPORTED_MODULE_3__.SCHEMA_VERSION) {\n        db.prepare(\"INSERT OR REPLACE INTO schema_version (version, applied_at) VALUES (?, datetime('now'))\").run(_schema_js__WEBPACK_IMPORTED_MODULE_3__.SCHEMA_VERSION);\n    }\n    //  Identity \n    const getIdentity = (key)=>{\n        const row = db.prepare(\"SELECT value FROM identity WHERE key = ?\").get(key);\n        return row?.value;\n    };\n    const setIdentity = (key, value)=>{\n        db.prepare(\"INSERT OR REPLACE INTO identity (key, value) VALUES (?, ?)\").run(key, value);\n    };\n    //  Turns \n    const insertTurn = (turn)=>{\n        db.prepare(`INSERT INTO turns (id, timestamp, state, input, input_source, thinking, tool_calls, token_usage, cost_cents)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`).run(turn.id, turn.timestamp, turn.state, turn.input ?? null, turn.inputSource ?? null, turn.thinking, JSON.stringify(turn.toolCalls), JSON.stringify(turn.tokenUsage), turn.costCents);\n    };\n    const getRecentTurns = (limit)=>{\n        const rows = db.prepare(\"SELECT * FROM turns ORDER BY timestamp DESC LIMIT ?\").all(limit);\n        return rows.map(deserializeTurn).reverse();\n    };\n    const queryTurns = (options)=>{\n        const whereClauses = [];\n        const whereArgs = [];\n        if (options.from) {\n            whereClauses.push(\"timestamp >= ?\");\n            whereArgs.push(options.from);\n        }\n        if (options.to) {\n            whereClauses.push(\"timestamp <= ?\");\n            whereArgs.push(options.to);\n        }\n        if (options.state) {\n            if (options.state === \"sleeping\") {\n                // Back-compat for historical turns that were persisted as \"running\"\n                // even when a successful sleep tool call ended the turn.\n                whereClauses.push(\"(state = ? OR (state = 'running' AND EXISTS (\" + \"SELECT 1 FROM json_each(COALESCE(tool_calls, '[]')) tc \" + \"WHERE json_extract(tc.value, '$.name') = 'sleep' \" + \"AND json_extract(tc.value, '$.error') IS NULL\" + \")))\");\n                whereArgs.push(\"sleeping\");\n            } else {\n                whereClauses.push(\"state = ?\");\n                whereArgs.push(options.state);\n            }\n        }\n        if (options.q && options.q.trim()) {\n            const needle = `%${options.q.trim().toLowerCase()}%`;\n            whereClauses.push([\n                \"LOWER(id) LIKE ?\",\n                \"LOWER(timestamp) LIKE ?\",\n                \"LOWER(state) LIKE ?\",\n                \"LOWER(COALESCE(input_source, '')) LIKE ?\",\n                \"LOWER(COALESCE(input, '')) LIKE ?\",\n                \"LOWER(COALESCE(thinking, '')) LIKE ?\",\n                \"LOWER(COALESCE(tool_calls, '')) LIKE ?\"\n            ].join(\" OR \"));\n            for(let i = 0; i < 7; i++){\n                whereArgs.push(needle);\n            }\n        }\n        const baseWhere = whereClauses.length > 0 ? `WHERE (${whereClauses.join(\") AND (\")})` : \"\";\n        const countRow = db.prepare(`SELECT COUNT(*) as count FROM turns ${baseWhere}`).get(...whereArgs);\n        const pageClauses = whereClauses.slice();\n        const pageArgs = whereArgs.slice();\n        if (options.cursor?.timestamp && options.cursor.id) {\n            pageClauses.push(\"(timestamp < ? OR (timestamp = ? AND id < ?))\");\n            pageArgs.push(options.cursor.timestamp, options.cursor.timestamp, options.cursor.id);\n        }\n        const pageWhere = pageClauses.length > 0 ? `WHERE (${pageClauses.join(\") AND (\")})` : \"\";\n        const limitInput = Number.isFinite(options.limit) ? Math.floor(options.limit) : 50;\n        const limit = Math.max(1, Math.min(500, limitInput));\n        const rows = db.prepare(`SELECT * FROM turns ${pageWhere} ORDER BY timestamp DESC, id DESC LIMIT ?`).all(...pageArgs, limit + 1);\n        const hasMore = rows.length > limit;\n        const turns = (hasMore ? rows.slice(0, limit) : rows).map(deserializeTurn);\n        return {\n            turns,\n            totalMatched: countRow.count,\n            hasMore\n        };\n    };\n    const getTurnById = (id)=>{\n        const row = db.prepare(\"SELECT * FROM turns WHERE id = ?\").get(id);\n        return row ? deserializeTurn(row) : undefined;\n    };\n    const getTurnCount = ()=>{\n        const row = db.prepare(\"SELECT COUNT(*) as count FROM turns\").get();\n        return row.count;\n    };\n    //  Tool Calls \n    const insertToolCall = (turnId, call)=>{\n        db.prepare(`INSERT INTO tool_calls (id, turn_id, name, arguments, result, duration_ms, error)\n       VALUES (?, ?, ?, ?, ?, ?, ?)`).run(call.id, turnId, call.name, JSON.stringify(call.arguments), call.result, call.durationMs, call.error ?? null);\n    };\n    const getToolCallsForTurn = (turnId)=>{\n        const rows = db.prepare(\"SELECT * FROM tool_calls WHERE turn_id = ?\").all(turnId);\n        return rows.map(deserializeToolCall);\n    };\n    //  Heartbeat \n    const getHeartbeatEntries = ()=>{\n        const rows = db.prepare(\"SELECT * FROM heartbeat_entries\").all();\n        return rows.map(deserializeHeartbeatEntry);\n    };\n    const upsertHeartbeatEntry = (entry)=>{\n        db.prepare(`INSERT OR REPLACE INTO heartbeat_entries (name, schedule, task, enabled, last_run, next_run, params, updated_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, datetime('now'))`).run(entry.name, entry.schedule, entry.task, entry.enabled ? 1 : 0, entry.lastRun ?? null, entry.nextRun ?? null, JSON.stringify(entry.params ?? {}));\n    };\n    const updateHeartbeatLastRun = (name, timestamp)=>{\n        db.prepare(\"UPDATE heartbeat_entries SET last_run = ?, updated_at = datetime('now') WHERE name = ?\").run(timestamp, name);\n    };\n    //  Transactions \n    const insertTransaction = (txn)=>{\n        db.prepare(`INSERT INTO transactions (id, type, amount_cents, balance_after_cents, description)\n       VALUES (?, ?, ?, ?, ?)`).run(txn.id, txn.type, txn.amountCents ?? null, txn.balanceAfterCents ?? null, txn.description);\n    };\n    const getRecentTransactions = (limit)=>{\n        const rows = db.prepare(\"SELECT * FROM transactions ORDER BY created_at DESC LIMIT ?\").all(limit);\n        return rows.map(deserializeTransaction).reverse();\n    };\n    //  Installed Tools \n    const getInstalledTools = ()=>{\n        const rows = db.prepare(\"SELECT * FROM installed_tools WHERE enabled = 1\").all();\n        return rows.map(deserializeInstalledTool);\n    };\n    const installTool = (tool)=>{\n        db.prepare(`INSERT OR REPLACE INTO installed_tools (id, name, type, config, installed_at, enabled)\n       VALUES (?, ?, ?, ?, ?, ?)`).run(tool.id, tool.name, tool.type, JSON.stringify(tool.config ?? {}), tool.installedAt, tool.enabled ? 1 : 0);\n    };\n    const removeTool = (id)=>{\n        db.prepare(\"UPDATE installed_tools SET enabled = 0 WHERE id = ?\").run(id);\n    };\n    //  Modifications \n    const insertModification = (mod)=>{\n        db.prepare(`INSERT INTO modifications (id, timestamp, type, description, file_path, diff, reversible)\n       VALUES (?, ?, ?, ?, ?, ?, ?)`).run(mod.id, mod.timestamp, mod.type, mod.description, mod.filePath ?? null, mod.diff ?? null, mod.reversible ? 1 : 0);\n    };\n    const getRecentModifications = (limit)=>{\n        const rows = db.prepare(\"SELECT * FROM modifications ORDER BY timestamp DESC LIMIT ?\").all(limit);\n        return rows.map(deserializeModification).reverse();\n    };\n    //  Key-Value Store \n    const getKV = (key)=>{\n        const row = db.prepare(\"SELECT value FROM kv WHERE key = ?\").get(key);\n        return row?.value;\n    };\n    const setKV = (key, value)=>{\n        db.prepare(\"INSERT OR REPLACE INTO kv (key, value, updated_at) VALUES (?, ?, datetime('now'))\").run(key, value);\n    };\n    const deleteKV = (key)=>{\n        db.prepare(\"DELETE FROM kv WHERE key = ?\").run(key);\n    };\n    //  Skills \n    const getSkills = (enabledOnly)=>{\n        const query = enabledOnly ? \"SELECT * FROM skills WHERE enabled = 1\" : \"SELECT * FROM skills\";\n        const rows = db.prepare(query).all();\n        return rows.map(deserializeSkill);\n    };\n    const getSkillByName = (name)=>{\n        const row = db.prepare(\"SELECT * FROM skills WHERE name = ?\").get(name);\n        return row ? deserializeSkill(row) : undefined;\n    };\n    const upsertSkill = (skill)=>{\n        db.prepare(`INSERT OR REPLACE INTO skills (name, description, auto_activate, requires, instructions, source, path, enabled, installed_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`).run(skill.name, skill.description, skill.autoActivate ? 1 : 0, JSON.stringify(skill.requires ?? {}), skill.instructions, skill.source, skill.path, skill.enabled ? 1 : 0, skill.installedAt);\n    };\n    const removeSkill = (name)=>{\n        db.prepare(\"UPDATE skills SET enabled = 0 WHERE name = ?\").run(name);\n    };\n    //  Children \n    const getChildren = ()=>{\n        const rows = db.prepare(\"SELECT * FROM children ORDER BY created_at DESC\").all();\n        return rows.map(deserializeChild);\n    };\n    const getChildById = (id)=>{\n        const row = db.prepare(\"SELECT * FROM children WHERE id = ?\").get(id);\n        return row ? deserializeChild(row) : undefined;\n    };\n    const insertChild = (child)=>{\n        db.prepare(`INSERT INTO children (id, name, address, sandbox_id, genesis_prompt, creator_message, funded_amount_cents, status, created_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`).run(child.id, child.name, child.address, child.sandboxId, child.genesisPrompt, child.creatorMessage ?? null, child.fundedAmountCents, child.status, child.createdAt);\n    };\n    const updateChildStatus = (id, status)=>{\n        db.prepare(\"UPDATE children SET status = ?, last_checked = datetime('now') WHERE id = ?\").run(status, id);\n    };\n    //  Registry \n    const getRegistryEntry = ()=>{\n        const row = db.prepare(\"SELECT * FROM registry LIMIT 1\").get();\n        return row ? deserializeRegistry(row) : undefined;\n    };\n    const setRegistryEntry = (entry)=>{\n        db.prepare(`INSERT OR REPLACE INTO registry (agent_id, agent_uri, chain, contract_address, tx_hash, registered_at)\n       VALUES (?, ?, ?, ?, ?, ?)`).run(entry.agentId, entry.agentURI, entry.chain, entry.contractAddress, entry.txHash, entry.registeredAt);\n    };\n    //  Reputation \n    const insertReputation = (entry)=>{\n        db.prepare(`INSERT INTO reputation (id, from_agent, to_agent, score, comment, tx_hash)\n       VALUES (?, ?, ?, ?, ?, ?)`).run(entry.id, entry.fromAgent, entry.toAgent, entry.score, entry.comment, entry.txHash ?? null);\n    };\n    const getReputation = (agentAddress)=>{\n        const query = agentAddress ? \"SELECT * FROM reputation WHERE to_agent = ? ORDER BY created_at DESC\" : \"SELECT * FROM reputation ORDER BY created_at DESC\";\n        const params = agentAddress ? [\n            agentAddress\n        ] : [];\n        const rows = db.prepare(query).all(...params);\n        return rows.map(deserializeReputation);\n    };\n    //  Inbox Messages \n    const insertInboxMessage = (msg)=>{\n        db.prepare(`INSERT OR IGNORE INTO inbox_messages (id, from_address, content, received_at, reply_to)\n       VALUES (?, ?, ?, ?, ?)`).run(msg.id, msg.from, msg.content, msg.createdAt || new Date().toISOString(), msg.replyTo ?? null);\n    };\n    const getUnprocessedInboxMessages = (limit)=>{\n        const rows = db.prepare(\"SELECT * FROM inbox_messages WHERE processed_at IS NULL ORDER BY received_at ASC LIMIT ?\").all(limit);\n        return rows.map(deserializeInboxMessage);\n    };\n    const markInboxMessageProcessed = (id)=>{\n        db.prepare(\"UPDATE inbox_messages SET processed_at = datetime('now') WHERE id = ?\").run(id);\n    };\n    //  Agent State \n    const getAgentState = ()=>{\n        return getKV(\"agent_state\") || \"setup\";\n    };\n    const setAgentState = (state)=>{\n        setKV(\"agent_state\", state);\n    };\n    //  Close \n    const close = ()=>{\n        db.close();\n    };\n    return {\n        getIdentity,\n        setIdentity,\n        insertTurn,\n        getRecentTurns,\n        queryTurns,\n        getTurnById,\n        getTurnCount,\n        insertToolCall,\n        getToolCallsForTurn,\n        getHeartbeatEntries,\n        upsertHeartbeatEntry,\n        updateHeartbeatLastRun,\n        insertTransaction,\n        getRecentTransactions,\n        getInstalledTools,\n        installTool,\n        removeTool,\n        insertModification,\n        getRecentModifications,\n        getKV,\n        setKV,\n        deleteKV,\n        getSkills,\n        getSkillByName,\n        upsertSkill,\n        removeSkill,\n        getChildren,\n        getChildById,\n        insertChild,\n        updateChildStatus,\n        getRegistryEntry,\n        setRegistryEntry,\n        insertReputation,\n        getReputation,\n        insertInboxMessage,\n        getUnprocessedInboxMessages,\n        markInboxMessageProcessed,\n        getAgentState,\n        setAgentState,\n        close\n    };\n}\n//  Deserializers \nfunction deserializeTurn(row) {\n    return {\n        id: row.id,\n        timestamp: row.timestamp,\n        state: row.state,\n        input: row.input ?? undefined,\n        inputSource: row.input_source ?? undefined,\n        thinking: row.thinking,\n        toolCalls: JSON.parse(row.tool_calls || \"[]\"),\n        tokenUsage: JSON.parse(row.token_usage || \"{}\"),\n        costCents: row.cost_cents\n    };\n}\nfunction deserializeToolCall(row) {\n    return {\n        id: row.id,\n        name: row.name,\n        arguments: JSON.parse(row.arguments || \"{}\"),\n        result: row.result,\n        durationMs: row.duration_ms,\n        error: row.error ?? undefined\n    };\n}\nfunction deserializeHeartbeatEntry(row) {\n    return {\n        name: row.name,\n        schedule: row.schedule,\n        task: row.task,\n        enabled: !!row.enabled,\n        lastRun: row.last_run ?? undefined,\n        nextRun: row.next_run ?? undefined,\n        params: JSON.parse(row.params || \"{}\")\n    };\n}\nfunction deserializeTransaction(row) {\n    return {\n        id: row.id,\n        type: row.type,\n        amountCents: row.amount_cents ?? undefined,\n        balanceAfterCents: row.balance_after_cents ?? undefined,\n        description: row.description,\n        timestamp: row.created_at\n    };\n}\nfunction deserializeInstalledTool(row) {\n    return {\n        id: row.id,\n        name: row.name,\n        type: row.type,\n        config: JSON.parse(row.config || \"{}\"),\n        installedAt: row.installed_at,\n        enabled: !!row.enabled\n    };\n}\nfunction deserializeModification(row) {\n    return {\n        id: row.id,\n        timestamp: row.timestamp,\n        type: row.type,\n        description: row.description,\n        filePath: row.file_path ?? undefined,\n        diff: row.diff ?? undefined,\n        reversible: !!row.reversible\n    };\n}\nfunction deserializeSkill(row) {\n    return {\n        name: row.name,\n        description: row.description,\n        autoActivate: !!row.auto_activate,\n        requires: JSON.parse(row.requires || \"{}\"),\n        instructions: row.instructions,\n        source: row.source,\n        path: row.path,\n        enabled: !!row.enabled,\n        installedAt: row.installed_at\n    };\n}\nfunction deserializeChild(row) {\n    return {\n        id: row.id,\n        name: row.name,\n        address: row.address,\n        sandboxId: row.sandbox_id,\n        genesisPrompt: row.genesis_prompt,\n        creatorMessage: row.creator_message ?? undefined,\n        fundedAmountCents: row.funded_amount_cents,\n        status: row.status,\n        createdAt: row.created_at,\n        lastChecked: row.last_checked ?? undefined\n    };\n}\nfunction deserializeRegistry(row) {\n    return {\n        agentId: row.agent_id,\n        agentURI: row.agent_uri,\n        chain: row.chain,\n        contractAddress: row.contract_address,\n        txHash: row.tx_hash,\n        registeredAt: row.registered_at\n    };\n}\nfunction deserializeInboxMessage(row) {\n    return {\n        id: row.id,\n        from: row.from_address,\n        to: \"\",\n        content: row.content,\n        signedAt: row.received_at,\n        createdAt: row.received_at,\n        replyTo: row.reply_to ?? undefined\n    };\n}\nfunction deserializeReputation(row) {\n    return {\n        id: row.id,\n        fromAgent: row.from_agent,\n        toAgent: row.to_agent,\n        score: row.score,\n        comment: row.comment,\n        txHash: row.tx_hash ?? undefined,\n        timestamp: row.created_at\n    };\n} //# sourceMappingURL=database.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSThJLE9BQU87UUFDcEJOLFFBQVF4SSxJQUFJcUwsT0FBTyxJQUFJN0g7UUFDdkJsRCxXQUFXTixJQUFJd0ssVUFBVTs7QUFFN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29ud2F5L2F1dG9tYXRvbi1kYXNoYm9hcmQvLi4vLi4vc3JjL3N0YXRlL2RhdGFiYXNlLnRzPzE4M2EiXSwibmFtZXMiOlsiRGF0YWJhc2UiLCJmcyIsInBhdGgiLCJTQ0hFTUFfVkVSU0lPTiIsIkNSRUFURV9UQUJMRVMiLCJNSUdSQVRJT05fVjIiLCJNSUdSQVRJT05fVjMiLCJjcmVhdGVEYXRhYmFzZSIsImRiUGF0aCIsImRpciIsImRpcm5hbWUiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwibW9kZSIsImRiIiwicHJhZ21hIiwiZXhlYyIsInZlcnNpb25Sb3ciLCJwcmVwYXJlIiwiZ2V0IiwiY3VycmVudFZlcnNpb24iLCJ2IiwicnVuIiwiZ2V0SWRlbnRpdHkiLCJrZXkiLCJyb3ciLCJ2YWx1ZSIsInNldElkZW50aXR5IiwiaW5zZXJ0VHVybiIsInR1cm4iLCJpZCIsInRpbWVzdGFtcCIsInN0YXRlIiwiaW5wdXQiLCJpbnB1dFNvdXJjZSIsInRoaW5raW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvb2xDYWxscyIsInRva2VuVXNhZ2UiLCJjb3N0Q2VudHMiLCJnZXRSZWNlbnRUdXJucyIsImxpbWl0Iiwicm93cyIsImFsbCIsIm1hcCIsImRlc2VyaWFsaXplVHVybiIsInJldmVyc2UiLCJxdWVyeVR1cm5zIiwib3B0aW9ucyIsIndoZXJlQ2xhdXNlcyIsIndoZXJlQXJncyIsImZyb20iLCJwdXNoIiwidG8iLCJxIiwidHJpbSIsIm5lZWRsZSIsInRvTG93ZXJDYXNlIiwiam9pbiIsImkiLCJiYXNlV2hlcmUiLCJsZW5ndGgiLCJjb3VudFJvdyIsInBhZ2VDbGF1c2VzIiwic2xpY2UiLCJwYWdlQXJncyIsImN1cnNvciIsInBhZ2VXaGVyZSIsImxpbWl0SW5wdXQiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIk1hdGgiLCJmbG9vciIsIm1heCIsIm1pbiIsImhhc01vcmUiLCJ0dXJucyIsInRvdGFsTWF0Y2hlZCIsImNvdW50IiwiZ2V0VHVybkJ5SWQiLCJ1bmRlZmluZWQiLCJnZXRUdXJuQ291bnQiLCJpbnNlcnRUb29sQ2FsbCIsInR1cm5JZCIsImNhbGwiLCJuYW1lIiwiYXJndW1lbnRzIiwicmVzdWx0IiwiZHVyYXRpb25NcyIsImVycm9yIiwiZ2V0VG9vbENhbGxzRm9yVHVybiIsImRlc2VyaWFsaXplVG9vbENhbGwiLCJnZXRIZWFydGJlYXRFbnRyaWVzIiwiZGVzZXJpYWxpemVIZWFydGJlYXRFbnRyeSIsInVwc2VydEhlYXJ0YmVhdEVudHJ5IiwiZW50cnkiLCJzY2hlZHVsZSIsInRhc2siLCJlbmFibGVkIiwibGFzdFJ1biIsIm5leHRSdW4iLCJwYXJhbXMiLCJ1cGRhdGVIZWFydGJlYXRMYXN0UnVuIiwiaW5zZXJ0VHJhbnNhY3Rpb24iLCJ0eG4iLCJ0eXBlIiwiYW1vdW50Q2VudHMiLCJiYWxhbmNlQWZ0ZXJDZW50cyIsImRlc2NyaXB0aW9uIiwiZ2V0UmVjZW50VHJhbnNhY3Rpb25zIiwiZGVzZXJpYWxpemVUcmFuc2FjdGlvbiIsImdldEluc3RhbGxlZFRvb2xzIiwiZGVzZXJpYWxpemVJbnN0YWxsZWRUb29sIiwiaW5zdGFsbFRvb2wiLCJ0b29sIiwiY29uZmlnIiwiaW5zdGFsbGVkQXQiLCJyZW1vdmVUb29sIiwiaW5zZXJ0TW9kaWZpY2F0aW9uIiwibW9kIiwiZmlsZVBhdGgiLCJkaWZmIiwicmV2ZXJzaWJsZSIsImdldFJlY2VudE1vZGlmaWNhdGlvbnMiLCJkZXNlcmlhbGl6ZU1vZGlmaWNhdGlvbiIsImdldEtWIiwic2V0S1YiLCJkZWxldGVLViIsImdldFNraWxscyIsImVuYWJsZWRPbmx5IiwicXVlcnkiLCJkZXNlcmlhbGl6ZVNraWxsIiwiZ2V0U2tpbGxCeU5hbWUiLCJ1cHNlcnRTa2lsbCIsInNraWxsIiwiYXV0b0FjdGl2YXRlIiwicmVxdWlyZXMiLCJpbnN0cnVjdGlvbnMiLCJzb3VyY2UiLCJyZW1vdmVTa2lsbCIsImdldENoaWxkcmVuIiwiZGVzZXJpYWxpemVDaGlsZCIsImdldENoaWxkQnlJZCIsImluc2VydENoaWxkIiwiY2hpbGQiLCJhZGRyZXNzIiwic2FuZGJveElkIiwiZ2VuZXNpc1Byb21wdCIsImNyZWF0b3JNZXNzYWdlIiwiZnVuZGVkQW1vdW50Q2VudHMiLCJzdGF0dXMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVDaGlsZFN0YXR1cyIsImdldFJlZ2lzdHJ5RW50cnkiLCJkZXNlcmlhbGl6ZVJlZ2lzdHJ5Iiwic2V0UmVnaXN0cnlFbnRyeSIsImFnZW50SWQiLCJhZ2VudFVSSSIsImNoYWluIiwiY29udHJhY3RBZGRyZXNzIiwidHhIYXNoIiwicmVnaXN0ZXJlZEF0IiwiaW5zZXJ0UmVwdXRhdGlvbiIsImZyb21BZ2VudCIsInRvQWdlbnQiLCJzY29yZSIsImNvbW1lbnQiLCJnZXRSZXB1dGF0aW9uIiwiYWdlbnRBZGRyZXNzIiwiZGVzZXJpYWxpemVSZXB1dGF0aW9uIiwiaW5zZXJ0SW5ib3hNZXNzYWdlIiwibXNnIiwiY29udGVudCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInJlcGx5VG8iLCJnZXRVbnByb2Nlc3NlZEluYm94TWVzc2FnZXMiLCJkZXNlcmlhbGl6ZUluYm94TWVzc2FnZSIsIm1hcmtJbmJveE1lc3NhZ2VQcm9jZXNzZWQiLCJnZXRBZ2VudFN0YXRlIiwic2V0QWdlbnRTdGF0ZSIsImNsb3NlIiwiaW5wdXRfc291cmNlIiwicGFyc2UiLCJ0b29sX2NhbGxzIiwidG9rZW5fdXNhZ2UiLCJjb3N0X2NlbnRzIiwiZHVyYXRpb25fbXMiLCJsYXN0X3J1biIsIm5leHRfcnVuIiwiYW1vdW50X2NlbnRzIiwiYmFsYW5jZV9hZnRlcl9jZW50cyIsImNyZWF0ZWRfYXQiLCJpbnN0YWxsZWRfYXQiLCJmaWxlX3BhdGgiLCJhdXRvX2FjdGl2YXRlIiwic2FuZGJveF9pZCIsImdlbmVzaXNfcHJvbXB0IiwiY3JlYXRvcl9tZXNzYWdlIiwiZnVuZGVkX2Ftb3VudF9jZW50cyIsImxhc3RDaGVja2VkIiwibGFzdF9jaGVja2VkIiwiYWdlbnRfaWQiLCJhZ2VudF91cmkiLCJjb250cmFjdF9hZGRyZXNzIiwidHhfaGFzaCIsInJlZ2lzdGVyZWRfYXQiLCJmcm9tX2FkZHJlc3MiLCJzaWduZWRBdCIsInJlY2VpdmVkX2F0IiwicmVwbHlfdG8iLCJmcm9tX2FnZW50IiwidG9fYWdlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../dist/state/database.js\n");

/***/ }),

/***/ "(rsc)/../../dist/state/schema.js":
/*!**********************************!*\
  !*** ../../dist/state/schema.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CREATE_TABLES: () => (/* binding */ CREATE_TABLES),\n/* harmony export */   MIGRATION_V2: () => (/* binding */ MIGRATION_V2),\n/* harmony export */   MIGRATION_V3: () => (/* binding */ MIGRATION_V3),\n/* harmony export */   SCHEMA_VERSION: () => (/* binding */ SCHEMA_VERSION)\n/* harmony export */ });\n/**\n * Automaton SQLite Schema\n *\n * All tables for the automaton's persistent state.\n * The database IS the automaton's memory.\n */ const SCHEMA_VERSION = 3;\nconst CREATE_TABLES = `\n  -- Schema version tracking\n  CREATE TABLE IF NOT EXISTS schema_version (\n    version INTEGER PRIMARY KEY,\n    applied_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Core identity key-value store\n  CREATE TABLE IF NOT EXISTS identity (\n    key TEXT PRIMARY KEY,\n    value TEXT NOT NULL\n  );\n\n  -- Agent reasoning turns (the thinking/action log)\n  CREATE TABLE IF NOT EXISTS turns (\n    id TEXT PRIMARY KEY,\n    timestamp TEXT NOT NULL,\n    state TEXT NOT NULL,\n    input TEXT,\n    input_source TEXT,\n    thinking TEXT NOT NULL,\n    tool_calls TEXT NOT NULL DEFAULT '[]',\n    token_usage TEXT NOT NULL DEFAULT '{}',\n    cost_cents INTEGER NOT NULL DEFAULT 0,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Tool call results (denormalized for fast lookup)\n  CREATE TABLE IF NOT EXISTS tool_calls (\n    id TEXT PRIMARY KEY,\n    turn_id TEXT NOT NULL REFERENCES turns(id),\n    name TEXT NOT NULL,\n    arguments TEXT NOT NULL DEFAULT '{}',\n    result TEXT NOT NULL DEFAULT '',\n    duration_ms INTEGER NOT NULL DEFAULT 0,\n    error TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Heartbeat configuration entries\n  CREATE TABLE IF NOT EXISTS heartbeat_entries (\n    name TEXT PRIMARY KEY,\n    schedule TEXT NOT NULL,\n    task TEXT NOT NULL,\n    enabled INTEGER NOT NULL DEFAULT 1,\n    last_run TEXT,\n    next_run TEXT,\n    params TEXT DEFAULT '{}',\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    updated_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Financial transaction log\n  CREATE TABLE IF NOT EXISTS transactions (\n    id TEXT PRIMARY KEY,\n    type TEXT NOT NULL,\n    amount_cents INTEGER,\n    balance_after_cents INTEGER,\n    description TEXT NOT NULL DEFAULT '',\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Installed tools and MCP servers\n  CREATE TABLE IF NOT EXISTS installed_tools (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    type TEXT NOT NULL,\n    config TEXT DEFAULT '{}',\n    installed_at TEXT NOT NULL DEFAULT (datetime('now')),\n    enabled INTEGER NOT NULL DEFAULT 1\n  );\n\n  -- Self-modification audit log (append-only)\n  CREATE TABLE IF NOT EXISTS modifications (\n    id TEXT PRIMARY KEY,\n    timestamp TEXT NOT NULL,\n    type TEXT NOT NULL,\n    description TEXT NOT NULL,\n    file_path TEXT,\n    diff TEXT,\n    reversible INTEGER NOT NULL DEFAULT 1,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- General key-value store for arbitrary state\n  CREATE TABLE IF NOT EXISTS kv (\n    key TEXT PRIMARY KEY,\n    value TEXT NOT NULL,\n    updated_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Installed skills\n  CREATE TABLE IF NOT EXISTS skills (\n    name TEXT PRIMARY KEY,\n    description TEXT NOT NULL DEFAULT '',\n    auto_activate INTEGER NOT NULL DEFAULT 1,\n    requires TEXT DEFAULT '{}',\n    instructions TEXT NOT NULL DEFAULT '',\n    source TEXT NOT NULL DEFAULT 'builtin',\n    path TEXT NOT NULL DEFAULT '',\n    enabled INTEGER NOT NULL DEFAULT 1,\n    installed_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Spawned child automatons\n  CREATE TABLE IF NOT EXISTS children (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    address TEXT NOT NULL,\n    sandbox_id TEXT NOT NULL,\n    genesis_prompt TEXT NOT NULL,\n    creator_message TEXT,\n    funded_amount_cents INTEGER NOT NULL DEFAULT 0,\n    status TEXT NOT NULL DEFAULT 'spawning',\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    last_checked TEXT\n  );\n\n  -- ERC-8004 registration state\n  CREATE TABLE IF NOT EXISTS registry (\n    agent_id TEXT PRIMARY KEY,\n    agent_uri TEXT NOT NULL,\n    chain TEXT NOT NULL DEFAULT 'eip155:8453',\n    contract_address TEXT NOT NULL,\n    tx_hash TEXT NOT NULL,\n    registered_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Reputation feedback received and given\n  CREATE TABLE IF NOT EXISTS reputation (\n    id TEXT PRIMARY KEY,\n    from_agent TEXT NOT NULL,\n    to_agent TEXT NOT NULL,\n    score INTEGER NOT NULL,\n    comment TEXT NOT NULL DEFAULT '',\n    tx_hash TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Indices for common queries\n  CREATE INDEX IF NOT EXISTS idx_turns_timestamp ON turns(timestamp);\n  CREATE INDEX IF NOT EXISTS idx_turns_state ON turns(state);\n  CREATE INDEX IF NOT EXISTS idx_tool_calls_turn ON tool_calls(turn_id);\n  CREATE INDEX IF NOT EXISTS idx_transactions_type ON transactions(type);\n  CREATE INDEX IF NOT EXISTS idx_modifications_type ON modifications(type);\n  CREATE INDEX IF NOT EXISTS idx_skills_enabled ON skills(enabled);\n  CREATE INDEX IF NOT EXISTS idx_children_status ON children(status);\n  CREATE INDEX IF NOT EXISTS idx_reputation_to ON reputation(to_agent);\n\n  -- Inbox messages table\n  CREATE TABLE IF NOT EXISTS inbox_messages (\n    id TEXT PRIMARY KEY,\n    from_address TEXT NOT NULL,\n    content TEXT NOT NULL,\n    received_at TEXT NOT NULL DEFAULT (datetime('now')),\n    processed_at TEXT,\n    reply_to TEXT\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_inbox_unprocessed\n    ON inbox_messages(received_at) WHERE processed_at IS NULL;\n`;\nconst MIGRATION_V3 = `\n  CREATE TABLE IF NOT EXISTS inbox_messages (\n    id TEXT PRIMARY KEY,\n    from_address TEXT NOT NULL,\n    content TEXT NOT NULL,\n    received_at TEXT NOT NULL DEFAULT (datetime('now')),\n    processed_at TEXT,\n    reply_to TEXT\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_inbox_unprocessed\n    ON inbox_messages(received_at) WHERE processed_at IS NULL;\n`;\nconst MIGRATION_V2 = `\n  CREATE TABLE IF NOT EXISTS skills (\n    name TEXT PRIMARY KEY,\n    description TEXT NOT NULL DEFAULT '',\n    auto_activate INTEGER NOT NULL DEFAULT 1,\n    requires TEXT DEFAULT '{}',\n    instructions TEXT NOT NULL DEFAULT '',\n    source TEXT NOT NULL DEFAULT 'builtin',\n    path TEXT NOT NULL DEFAULT '',\n    enabled INTEGER NOT NULL DEFAULT 1,\n    installed_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE TABLE IF NOT EXISTS children (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    address TEXT NOT NULL,\n    sandbox_id TEXT NOT NULL,\n    genesis_prompt TEXT NOT NULL,\n    creator_message TEXT,\n    funded_amount_cents INTEGER NOT NULL DEFAULT 0,\n    status TEXT NOT NULL DEFAULT 'spawning',\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    last_checked TEXT\n  );\n\n  CREATE TABLE IF NOT EXISTS registry (\n    agent_id TEXT PRIMARY KEY,\n    agent_uri TEXT NOT NULL,\n    chain TEXT NOT NULL DEFAULT 'eip155:8453',\n    contract_address TEXT NOT NULL,\n    tx_hash TEXT NOT NULL,\n    registered_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE TABLE IF NOT EXISTS reputation (\n    id TEXT PRIMARY KEY,\n    from_agent TEXT NOT NULL,\n    to_agent TEXT NOT NULL,\n    score INTEGER NOT NULL,\n    comment TEXT NOT NULL DEFAULT '',\n    tx_hash TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_skills_enabled ON skills(enabled);\n  CREATE INDEX IF NOT EXISTS idx_children_status ON children(status);\n  CREATE INDEX IF NOT EXISTS idx_reputation_to ON reputation(to_agent);\n`; //# sourceMappingURL=schema.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vZGlzdC9zdGF0ZS9zY2hlbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7OztJQU9PLE1BQU1BLGlCQUFpQixFQUFFO0FBRXpCLE1BQU1DLGdCQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FpSzVCLENBQUM7QUFFSyxNQUFNQyxlQUFlOzs7Ozs7Ozs7Ozs7Q0FZM0IsQ0FBQztBQUVLLE1BQU1DLGVBQWU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQWdEM0IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb253YXkvYXV0b21hdG9uLWRhc2hib2FyZC8uLi8uLi9zcmMvc3RhdGUvc2NoZW1hLnRzPzVkMTMiXSwibmFtZXMiOlsiU0NIRU1BX1ZFUlNJT04iLCJDUkVBVEVfVEFCTEVTIiwiTUlHUkFUSU9OX1YzIiwiTUlHUkFUSU9OX1YyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../dist/state/schema.js\n");

/***/ }),

/***/ "(rsc)/../../dist/types.js":
/*!***************************!*\
  !*** ../../dist/types.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_CONFIG: () => (/* binding */ DEFAULT_CONFIG),\n/* harmony export */   MAX_CHILDREN: () => (/* binding */ MAX_CHILDREN),\n/* harmony export */   SURVIVAL_THRESHOLDS: () => (/* binding */ SURVIVAL_THRESHOLDS)\n/* harmony export */ });\n/**\n * Conway Automaton - Type Definitions\n *\n * All shared interfaces for the sovereign AI agent runtime.\n */ const DEFAULT_CONFIG = {\n    conwayApiUrl: \"https://api.conway.tech\",\n    inferenceModel: \"gpt-4o\",\n    maxTokensPerTurn: 4096,\n    heartbeatConfigPath: \"~/.automaton/heartbeat.yml\",\n    dbPath: \"~/.automaton/state.db\",\n    logLevel: \"info\",\n    version: \"0.1.0\",\n    skillsDir: \"~/.automaton/skills\",\n    maxChildren: 3,\n    socialRelayUrl: \"https://social.conway.tech\"\n};\nconst SURVIVAL_THRESHOLDS = {\n    normal: 50,\n    low_compute: 10,\n    critical: 10,\n    dead: 0\n};\nconst MAX_CHILDREN = 3; //# sourceMappingURL=types.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztJQTBETyxNQUFNQSxpQkFBMkM7SUFDdERDLGNBQWM7SUFDZEMsZ0JBQWdCO0lBQ2hCQyxrQkFBa0I7SUFDbEJDLHFCQUFxQjtJQUNyQkMsUUFBUTtJQUNSQyxVQUFVO0lBQ1ZDLFNBQVM7SUFDVEMsV0FBVztJQUNYQyxhQUFhO0lBQ2JDLGdCQUFnQjtFQUNoQjtBQXlJSyxNQUFNQyxzQkFBc0I7SUFDakNDLFFBQVE7SUFDUkMsYUFBYTtJQUNiQyxVQUFVO0lBQ1ZDLE1BQU07RUFDRztBQXVjSixNQUFNQyxlQUFlLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29ud2F5L2F1dG9tYXRvbi1kYXNoYm9hcmQvLi4vc3JjL3R5cGVzLnRzPzYyNmUiXSwibmFtZXMiOlsiREVGQVVMVF9DT05GSUciLCJjb253YXlBcGlVcmwiLCJpbmZlcmVuY2VNb2RlbCIsIm1heFRva2Vuc1BlclR1cm4iLCJoZWFydGJlYXRDb25maWdQYXRoIiwiZGJQYXRoIiwibG9nTGV2ZWwiLCJ2ZXJzaW9uIiwic2tpbGxzRGlyIiwibWF4Q2hpbGRyZW4iLCJzb2NpYWxSZWxheVVybCIsIlNVUlZJVkFMX1RIUkVTSE9MRFMiLCJub3JtYWwiLCJsb3dfY29tcHV0ZSIsImNyaXRpY2FsIiwiZGVhZCIsIk1BWF9DSElMRFJFTiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../dist/types.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/ethers@6.16.0","vendor-chunks/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/apg-js@4.4.0","vendor-chunks/viem@2.45.3_typescript@5.9.3","vendor-chunks/ws@8.17.1","vendor-chunks/@noble+curves@1.9.1","vendor-chunks/@noble+curves@1.2.0","vendor-chunks/@noble+hashes@1.8.0","vendor-chunks/aes-js@4.0.0-beta.5","vendor-chunks/@adraffy+ens-normalize@1.10.1","vendor-chunks/@noble+hashes@1.3.2","vendor-chunks/siwe@2.3.2_ethers@6.16.0","vendor-chunks/tslib@2.7.0","vendor-chunks/@stablelib+binary@1.0.1","vendor-chunks/@spruceid+siwe-parser@2.1.2","vendor-chunks/@stablelib+random@1.0.2","vendor-chunks/valid-url@1.0.9","vendor-chunks/@stablelib+int@1.0.1","vendor-chunks/@stablelib+wipe@1.0.1"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foverview%2Froute&page=%2Fapi%2Foverview%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foverview%2Froute.ts&appDir=%2FUsers%2Fgustavo%2Fapps%2Fautomaton-forked%2Fpackages%2Fdashboard%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fgustavo%2Fapps%2Fautomaton-forked%2Fpackages%2Fdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();